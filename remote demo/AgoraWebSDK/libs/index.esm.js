var t,e,r={exports:{}};function n(t,e,r,n){return new(r||(r=Promise))((function(o,i){function s(t){try{c(n.next(t))}catch(t){i(t)}}function a(t){try{c(n.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(s,a)}c((n=n.apply(t,e||[])).next())}))}self,t=()=>(()=>{var t={3476:(t,e,r)=>{t.exports=r(7460)},4341:(t,e,r)=>{t.exports=r(3685)},3536:(t,e,r)=>{var n=r(1910);t.exports=n},8171:(t,e,r)=>{r(6450);var n=r(4058).Object,o=t.exports=function(t,e,r){return n.defineProperty(t,e,r)};n.defineProperty.sham&&(o.sham=!0)},2956:(t,e,r)=>{r(7627),r(6274),r(5967),r(8881),r(4560),r(7206),r(4349),r(7971);var n=r(4058);t.exports=n.Promise},3685:(t,e,r)=>{t.exports=r(621)},621:(t,e,r)=>{var n=r(3536);t.exports=n},4883:(t,e,r)=>{var n=r(1899),o=r(7475),i=r(9826),s=n.TypeError;t.exports=function(t){if(o(t))return t;throw s(i(t)+" is not a function")}},174:(t,e,r)=>{var n=r(1899),o=r(4284),i=r(9826),s=n.TypeError;t.exports=function(t){if(o(t))return t;throw s(i(t)+" is not a constructor")}},1851:(t,e,r)=>{var n=r(1899),o=r(7475),i=n.String,s=n.TypeError;t.exports=function(t){if("object"==typeof t||o(t))return t;throw s("Can't set "+i(t)+" as a prototype")}},8479:t=>{t.exports=function(){}},5743:(t,e,r)=>{var n=r(1899),o=r(7046),i=n.TypeError;t.exports=function(t,e){if(o(e,t))return t;throw i("Incorrect invocation")}},6059:(t,e,r)=>{var n=r(1899),o=r(941),i=n.String,s=n.TypeError;t.exports=function(t){if(o(t))return t;throw s(i(t)+" is not an object")}},1692:(t,e,r)=>{var n=r(4529),o=r(9413),i=r(623),s=function(t){return function(e,r,s){var a,c=n(e),u=i(c),p=o(s,u);if(t&&r!=r){for(;u>p;)if((a=c[p++])!=a)return!0}else for(;u>p;p++)if((t||p in c)&&c[p]===r)return t||p||0;return!t&&-1}};t.exports={includes:s(!0),indexOf:s(!1)}},3765:(t,e,r)=>{var n=r(5329);t.exports=n([].slice)},1385:(t,e,r)=>{var n=r(9813)("iterator"),o=!1;try{var i=0,s={next:function(){return{done:!!i++}},return:function(){o=!0}};s[n]=function(){return this},Array.from(s,(function(){throw 2}))}catch(t){}t.exports=function(t,e){if(!e&&!o)return!1;var r=!1;try{var i={};i[n]=function(){return{next:function(){return{done:r=!0}}}},t(i)}catch(t){}return r}},2532:(t,e,r)=>{var n=r(5329),o=n({}.toString),i=n("".slice);t.exports=function(t){return i(o(t),8,-1)}},9697:(t,e,r)=>{var n=r(1899),o=r(2885),i=r(7475),s=r(2532),a=r(9813)("toStringTag"),c=n.Object,u="Arguments"==s(function(){return arguments}());t.exports=o?s:function(t){var e,r,n;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(r=function(t,e){try{return t[e]}catch(t){}}(e=c(t),a))?r:u?s(e):"Object"==(n=s(e))&&i(e.callee)?"Arguments":n}},8694:(t,e,r)=>{var n=r(5329),o=Error,i=n("".replace),s=String(o("zxcasd").stack),a=/\n\s*at [^:]*:[^\n]*/,c=a.test(s);t.exports=function(t,e){if(c&&"string"==typeof t&&!o.prepareStackTrace)for(;e--;)t=i(t,a,"");return t}},3489:(t,e,r)=>{var n=r(953),o=r(1136),i=r(9677),s=r(5988);t.exports=function(t,e,r){for(var a=o(e),c=s.f,u=i.f,p=0;p<a.length;p++){var l=a[p];n(t,l)||r&&n(r,l)||c(t,l,u(e,l))}}},4160:(t,e,r)=>{var n=r(5981);t.exports=!n((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}))},1046:(t,e,r)=>{var n=r(5143).IteratorPrototype,o=r(9290),i=r(1887),s=r(904),a=r(2077),c=function(){return this};t.exports=function(t,e,r,u){var p=e+" Iterator";return t.prototype=o(n,{next:i(+!u,r)}),s(t,p,!1,!0),a[p]=c,t}},2029:(t,e,r)=>{var n=r(5746),o=r(5988),i=r(1887);t.exports=n?function(t,e,r){return o.f(t,e,i(1,r))}:function(t,e,r){return t[e]=r,t}},1887:t=>{t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},7771:(t,e,r)=>{var n=r(6887),o=r(8834),i=r(2529),s=r(9417),a=r(7475),c=r(1046),u=r(249),p=r(8929),l=r(904),h=r(2029),f=r(9754),d=r(9813),v=r(2077),g=r(5143),m=s.PROPER,y=s.CONFIGURABLE,x=g.IteratorPrototype,S=g.BUGGY_SAFARI_ITERATORS,b=d("iterator"),w="keys",k="values",E="entries",O=function(){return this};t.exports=function(t,e,r,s,d,g,P){c(r,e,s);var I,_,A,R=function(t){if(t===d&&D)return D;if(!S&&t in L)return L[t];switch(t){case w:case k:case E:return function(){return new r(this,t)}}return function(){return new r(this)}},T=e+" Iterator",j=!1,L=t.prototype,M=L[b]||L["@@iterator"]||d&&L[d],D=!S&&M||R(d),N="Array"==e&&L.entries||M;if(N&&(I=u(N.call(new t)))!==Object.prototype&&I.next&&(i||u(I)===x||(p?p(I,x):a(I[b])||f(I,b,O)),l(I,T,!0,!0),i&&(v[T]=O)),m&&d==k&&M&&M.name!==k&&(!i&&y?h(L,"name",k):(j=!0,D=function(){return o(M,this)})),d)if(_={values:R(k),keys:g?D:R(w),entries:R(E)},P)for(A in _)(S||j||!(A in L))&&f(L,A,_[A]);else n({target:e,proto:!0,forced:S||j},_);return i&&!P||L[b]===D||f(L,b,D,{name:d}),v[e]=D,_}},5746:(t,e,r)=>{var n=r(5981);t.exports=!n((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},1333:(t,e,r)=>{var n=r(1899),o=r(941),i=n.document,s=o(i)&&o(i.createElement);t.exports=function(t){return s?i.createElement(t):{}}},3281:t=>{t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},3321:t=>{t.exports="object"==typeof window&&"object"!=typeof Deno},4470:(t,e,r)=>{var n=r(2861),o=r(1899);t.exports=/ipad|iphone|ipod/i.test(n)&&void 0!==o.Pebble},2749:(t,e,r)=>{var n=r(2861);t.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(n)},6049:(t,e,r)=>{var n=r(2532),o=r(1899);t.exports="process"==n(o.process)},8045:(t,e,r)=>{var n=r(2861);t.exports=/web0s(?!.*chrome)/i.test(n)},2861:(t,e,r)=>{var n=r(626);t.exports=n("navigator","userAgent")||""},3385:(t,e,r)=>{var n,o,i=r(1899),s=r(2861),a=i.process,c=i.Deno,u=a&&a.versions||c&&c.version,p=u&&u.v8;p&&(o=(n=p.split("."))[0]>0&&n[0]<4?1:+(n[0]+n[1])),!o&&s&&(!(n=s.match(/Edge\/(\d+)/))||n[1]>=74)&&(n=s.match(/Chrome\/(\d+)/))&&(o=+n[1]),t.exports=o},6759:t=>{t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},8780:(t,e,r)=>{var n=r(5981),o=r(1887);t.exports=!n((function(){var t=Error("a");return!("stack"in t)||(Object.defineProperty(t,"stack",o(1,7)),7!==t.stack)}))},6887:(t,e,r)=>{var n=r(1899),o=r(9730),i=r(5329),s=r(7475),a=r(9677).f,c=r(7252),u=r(4058),p=r(6843),l=r(2029),h=r(953),f=function(t){var e=function(r,n,i){if(this instanceof e){switch(arguments.length){case 0:return new t;case 1:return new t(r);case 2:return new t(r,n)}return new t(r,n,i)}return o(t,this,arguments)};return e.prototype=t.prototype,e};t.exports=function(t,e){var r,o,d,v,g,m,y,x,S=t.target,b=t.global,w=t.stat,k=t.proto,E=b?n:w?n[S]:(n[S]||{}).prototype,O=b?u:u[S]||l(u,S,{})[S],P=O.prototype;for(d in e)r=!c(b?d:S+(w?".":"#")+d,t.forced)&&E&&h(E,d),g=O[d],r&&(m=t.noTargetGet?(x=a(E,d))&&x.value:E[d]),v=r&&m?m:e[d],r&&typeof g==typeof v||(y=t.bind&&r?p(v,n):t.wrap&&r?f(v):k&&s(v)?i(v):v,(t.sham||v&&v.sham||g&&g.sham)&&l(y,"sham",!0),l(O,d,y),k&&(h(u,o=S+"Prototype")||l(u,o,{}),l(u[o],d,v),t.real&&P&&!P[d]&&l(P,d,v)))}},5981:t=>{t.exports=function(t){try{return!!t()}catch(t){return!0}}},9730:(t,e,r)=>{var n=r(8285),o=Function.prototype,i=o.apply,s=o.call;t.exports="object"==typeof Reflect&&Reflect.apply||(n?s.bind(i):function(){return s.apply(i,arguments)})},6843:(t,e,r)=>{var n=r(5329),o=r(4883),i=r(8285),s=n(n.bind);t.exports=function(t,e){return o(t),void 0===e?t:i?s(t,e):function(){return t.apply(e,arguments)}}},8285:(t,e,r)=>{var n=r(5981);t.exports=!n((function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")}))},8834:(t,e,r)=>{var n=r(8285),o=Function.prototype.call;t.exports=n?o.bind(o):function(){return o.apply(o,arguments)}},9417:(t,e,r)=>{var n=r(5746),o=r(953),i=Function.prototype,s=n&&Object.getOwnPropertyDescriptor,a=o(i,"name"),c=a&&"something"===function(){}.name,u=a&&(!n||n&&s(i,"name").configurable);t.exports={EXISTS:a,PROPER:c,CONFIGURABLE:u}},5329:(t,e,r)=>{var n=r(8285),o=Function.prototype,i=o.bind,s=o.call,a=n&&i.bind(s,s);t.exports=n?function(t){return t&&a(t)}:function(t){return t&&function(){return s.apply(t,arguments)}}},626:(t,e,r)=>{var n=r(4058),o=r(1899),i=r(7475),s=function(t){return i(t)?t:void 0};t.exports=function(t,e){return arguments.length<2?s(n[t])||s(o[t]):n[t]&&n[t][e]||o[t]&&o[t][e]}},2902:(t,e,r)=>{var n=r(9697),o=r(4229),i=r(2077),s=r(9813)("iterator");t.exports=function(t){if(null!=t)return o(t,s)||o(t,"@@iterator")||i[n(t)]}},429:(t,e,r)=>{var n=r(1899),o=r(8834),i=r(4883),s=r(6059),a=r(9826),c=r(2902),u=n.TypeError;t.exports=function(t,e){var r=arguments.length<2?c(t):e;if(i(r))return s(o(r,t));throw u(a(t)+" is not iterable")}},4229:(t,e,r)=>{var n=r(4883);t.exports=function(t,e){var r=t[e];return null==r?void 0:n(r)}},1899:(t,e,r)=>{var n=function(t){return t&&t.Math==Math&&t};t.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof r.g&&r.g)||function(){return this}()||Function("return this")()},953:(t,e,r)=>{var n=r(5329),o=r(9678),i=n({}.hasOwnProperty);t.exports=Object.hasOwn||function(t,e){return i(o(t),e)}},7748:t=>{t.exports={}},4845:(t,e,r)=>{var n=r(1899);t.exports=function(t,e){var r=n.console;r&&r.error&&(1==arguments.length?r.error(t):r.error(t,e))}},5463:(t,e,r)=>{var n=r(626);t.exports=n("document","documentElement")},2840:(t,e,r)=>{var n=r(5746),o=r(5981),i=r(1333);t.exports=!n&&!o((function(){return 7!=Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a}))},7026:(t,e,r)=>{var n=r(1899),o=r(5329),i=r(5981),s=r(2532),a=n.Object,c=o("".split);t.exports=i((function(){return!a("z").propertyIsEnumerable(0)}))?function(t){return"String"==s(t)?c(t,""):a(t)}:a},1302:(t,e,r)=>{var n=r(5329),o=r(7475),i=r(3030),s=n(Function.toString);o(i.inspectSource)||(i.inspectSource=function(t){return s(t)}),t.exports=i.inspectSource},3794:(t,e,r)=>{var n=r(941),o=r(2029);t.exports=function(t,e){n(e)&&"cause"in e&&o(t,"cause",e.cause)}},5402:(t,e,r)=>{var n,o,i,s=r(8019),a=r(1899),c=r(5329),u=r(941),p=r(2029),l=r(953),h=r(3030),f=r(4262),d=r(7748),v="Object already initialized",g=a.TypeError,m=a.WeakMap;if(s||h.state){var y=h.state||(h.state=new m),x=c(y.get),S=c(y.has),b=c(y.set);n=function(t,e){if(S(y,t))throw new g(v);return e.facade=t,b(y,t,e),e},o=function(t){return x(y,t)||{}},i=function(t){return S(y,t)}}else{var w=f("state");d[w]=!0,n=function(t,e){if(l(t,w))throw new g(v);return e.facade=t,p(t,w,e),e},o=function(t){return l(t,w)?t[w]:{}},i=function(t){return l(t,w)}}t.exports={set:n,get:o,has:i,enforce:function(t){return i(t)?o(t):n(t,{})},getterFor:function(t){return function(e){var r;if(!u(e)||(r=o(e)).type!==t)throw g("Incompatible receiver, "+t+" required");return r}}}},6782:(t,e,r)=>{var n=r(9813),o=r(2077),i=n("iterator"),s=Array.prototype;t.exports=function(t){return void 0!==t&&(o.Array===t||s[i]===t)}},7475:t=>{t.exports=function(t){return"function"==typeof t}},4284:(t,e,r)=>{var n=r(5329),o=r(5981),i=r(7475),s=r(9697),a=r(626),c=r(1302),u=function(){},p=[],l=a("Reflect","construct"),h=/^\s*(?:class|function)\b/,f=n(h.exec),d=!h.exec(u),v=function(t){if(!i(t))return!1;try{return l(u,p,t),!0}catch(t){return!1}},g=function(t){if(!i(t))return!1;switch(s(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return d||!!f(h,c(t))}catch(t){return!0}};g.sham=!0,t.exports=!l||o((function(){var t;return v(v.call)||!v(Object)||!v((function(){t=!0}))||t}))?g:v},7252:(t,e,r)=>{var n=r(5981),o=r(7475),i=/#|\.prototype\./,s=function(t,e){var r=c[a(t)];return r==p||r!=u&&(o(e)?n(e):!!e)},a=s.normalize=function(t){return String(t).replace(i,".").toLowerCase()},c=s.data={},u=s.NATIVE="N",p=s.POLYFILL="P";t.exports=s},941:(t,e,r)=>{var n=r(7475);t.exports=function(t){return"object"==typeof t?null!==t:n(t)}},2529:t=>{t.exports=!0},6664:(t,e,r)=>{var n=r(1899),o=r(626),i=r(7475),s=r(7046),a=r(2302),c=n.Object;t.exports=a?function(t){return"symbol"==typeof t}:function(t){var e=o("Symbol");return i(e)&&s(e.prototype,c(t))}},3091:(t,e,r)=>{var n=r(1899),o=r(6843),i=r(8834),s=r(6059),a=r(9826),c=r(6782),u=r(623),p=r(7046),l=r(429),h=r(2902),f=r(7609),d=n.TypeError,v=function(t,e){this.stopped=t,this.result=e},g=v.prototype;t.exports=function(t,e,r){var n,m,y,x,S,b,w,k=r&&r.that,E=!(!r||!r.AS_ENTRIES),O=!(!r||!r.IS_ITERATOR),P=!(!r||!r.INTERRUPTED),I=o(e,k),_=function(t){return n&&f(n,"normal",t),new v(!0,t)},A=function(t){return E?(s(t),P?I(t[0],t[1],_):I(t[0],t[1])):P?I(t,_):I(t)};if(O)n=t;else{if(!(m=h(t)))throw d(a(t)+" is not iterable");if(c(m)){for(y=0,x=u(t);x>y;y++)if((S=A(t[y]))&&p(g,S))return S;return new v(!1)}n=l(t,m)}for(b=n.next;!(w=i(b,n)).done;){try{S=A(w.value)}catch(t){f(n,"throw",t)}if("object"==typeof S&&S&&p(g,S))return S}return new v(!1)}},7609:(t,e,r)=>{var n=r(8834),o=r(6059),i=r(4229);t.exports=function(t,e,r){var s,a;o(t);try{if(!(s=i(t,"return"))){if("throw"===e)throw r;return r}s=n(s,t)}catch(t){a=!0,s=t}if("throw"===e)throw r;if(a)throw s;return o(s),r}},5143:(t,e,r)=>{var n,o,i,s=r(5981),a=r(7475),c=r(9290),u=r(249),p=r(9754),l=r(9813),h=r(2529),f=l("iterator"),d=!1;[].keys&&("next"in(i=[].keys())?(o=u(u(i)))!==Object.prototype&&(n=o):d=!0),null==n||s((function(){var t={};return n[f].call(t)!==t}))?n={}:h&&(n=c(n)),a(n[f])||p(n,f,(function(){return this})),t.exports={IteratorPrototype:n,BUGGY_SAFARI_ITERATORS:d}},2077:t=>{t.exports={}},623:(t,e,r)=>{var n=r(3057);t.exports=function(t){return n(t.length)}},6132:(t,e,r)=>{var n,o,i,s,a,c,u,p,l=r(1899),h=r(6843),f=r(9677).f,d=r(2941).set,v=r(2749),g=r(4470),m=r(8045),y=r(6049),x=l.MutationObserver||l.WebKitMutationObserver,S=l.document,b=l.process,w=l.Promise,k=f(l,"queueMicrotask"),E=k&&k.value;E||(n=function(){var t,e;for(y&&(t=b.domain)&&t.exit();o;){e=o.fn,o=o.next;try{e()}catch(t){throw o?s():i=void 0,t}}i=void 0,t&&t.enter()},v||y||m||!x||!S?!g&&w&&w.resolve?((u=w.resolve(void 0)).constructor=w,p=h(u.then,u),s=function(){p(n)}):y?s=function(){b.nextTick(n)}:(d=h(d,l),s=function(){d(n)}):(a=!0,c=S.createTextNode(""),new x(n).observe(c,{characterData:!0}),s=function(){c.data=a=!a})),t.exports=E||function(t){var e={fn:t,next:void 0};i&&(i.next=e),o||(o=e,s()),i=e}},2497:(t,e,r)=>{var n=r(3385),o=r(5981);t.exports=!!Object.getOwnPropertySymbols&&!o((function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&n&&n<41}))},8019:(t,e,r)=>{var n=r(1899),o=r(7475),i=r(1302),s=n.WeakMap;t.exports=o(s)&&/native code/.test(i(s))},9520:(t,e,r)=>{var n=r(4883),o=function(t){var e,r;this.promise=new t((function(t,n){if(void 0!==e||void 0!==r)throw TypeError("Bad Promise constructor");e=t,r=n})),this.resolve=n(e),this.reject=n(r)};t.exports.f=function(t){return new o(t)}},4649:(t,e,r)=>{var n=r(5803);t.exports=function(t,e){return void 0===t?arguments.length<2?"":e:n(t)}},9290:(t,e,r)=>{var n,o=r(6059),i=r(9938),s=r(6759),a=r(7748),c=r(5463),u=r(1333),p=r(4262)("IE_PROTO"),l=function(){},h=function(t){return"<script>"+t+"<\/script>"},f=function(t){t.write(h("")),t.close();var e=t.parentWindow.Object;return t=null,e},d=function(){try{n=new ActiveXObject("htmlfile")}catch(t){}var t,e;d="undefined"!=typeof document?document.domain&&n?f(n):((e=u("iframe")).style.display="none",c.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(h("document.F=Object")),t.close(),t.F):f(n);for(var r=s.length;r--;)delete d.prototype[s[r]];return d()};a[p]=!0,t.exports=Object.create||function(t,e){var r;return null!==t?(l.prototype=o(t),r=new l,l.prototype=null,r[p]=t):r=d(),void 0===e?r:i.f(r,e)}},9938:(t,e,r)=>{var n=r(5746),o=r(3937),i=r(5988),s=r(6059),a=r(4529),c=r(4771);e.f=n&&!o?Object.defineProperties:function(t,e){s(t);for(var r,n=a(e),o=c(e),u=o.length,p=0;u>p;)i.f(t,r=o[p++],n[r]);return t}},5988:(t,e,r)=>{var n=r(1899),o=r(5746),i=r(2840),s=r(3937),a=r(6059),c=r(3894),u=n.TypeError,p=Object.defineProperty,l=Object.getOwnPropertyDescriptor;e.f=o?s?function(t,e,r){if(a(t),e=c(e),a(r),"function"==typeof t&&"prototype"===e&&"value"in r&&"writable"in r&&!r.writable){var n=l(t,e);n&&n.writable&&(t[e]=r.value,r={configurable:"configurable"in r?r.configurable:n.configurable,enumerable:"enumerable"in r?r.enumerable:n.enumerable,writable:!1})}return p(t,e,r)}:p:function(t,e,r){if(a(t),e=c(e),a(r),i)try{return p(t,e,r)}catch(t){}if("get"in r||"set"in r)throw u("Accessors not supported");return"value"in r&&(t[e]=r.value),t}},9677:(t,e,r)=>{var n=r(5746),o=r(8834),i=r(6760),s=r(1887),a=r(4529),c=r(3894),u=r(953),p=r(2840),l=Object.getOwnPropertyDescriptor;e.f=n?l:function(t,e){if(t=a(t),e=c(e),p)try{return l(t,e)}catch(t){}if(u(t,e))return s(!o(i.f,t,e),t[e])}},946:(t,e,r)=>{var n=r(5629),o=r(6759).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return n(t,o)}},7857:(t,e)=>{e.f=Object.getOwnPropertySymbols},249:(t,e,r)=>{var n=r(1899),o=r(953),i=r(7475),s=r(9678),a=r(4262),c=r(4160),u=a("IE_PROTO"),p=n.Object,l=p.prototype;t.exports=c?p.getPrototypeOf:function(t){var e=s(t);if(o(e,u))return e[u];var r=e.constructor;return i(r)&&e instanceof r?r.prototype:e instanceof p?l:null}},7046:(t,e,r)=>{var n=r(5329);t.exports=n({}.isPrototypeOf)},5629:(t,e,r)=>{var n=r(5329),o=r(953),i=r(4529),s=r(1692).indexOf,a=r(7748),c=n([].push);t.exports=function(t,e){var r,n=i(t),u=0,p=[];for(r in n)!o(a,r)&&o(n,r)&&c(p,r);for(;e.length>u;)o(n,r=e[u++])&&(~s(p,r)||c(p,r));return p}},4771:(t,e,r)=>{var n=r(5629),o=r(6759);t.exports=Object.keys||function(t){return n(t,o)}},6760:(t,e)=>{var r={}.propertyIsEnumerable,n=Object.getOwnPropertyDescriptor,o=n&&!r.call({1:2},1);e.f=o?function(t){var e=n(this,t);return!!e&&e.enumerable}:r},8929:(t,e,r)=>{var n=r(5329),o=r(6059),i=r(1851);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,r={};try{(t=n(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(r,[]),e=r instanceof Array}catch(t){}return function(r,n){return o(r),i(n),e?t(r,n):r.__proto__=n,r}}():void 0)},5623:(t,e,r)=>{var n=r(2885),o=r(9697);t.exports=n?{}.toString:function(){return"[object "+o(this)+"]"}},9811:(t,e,r)=>{var n=r(1899),o=r(8834),i=r(7475),s=r(941),a=n.TypeError;t.exports=function(t,e){var r,n;if("string"===e&&i(r=t.toString)&&!s(n=o(r,t)))return n;if(i(r=t.valueOf)&&!s(n=o(r,t)))return n;if("string"!==e&&i(r=t.toString)&&!s(n=o(r,t)))return n;throw a("Can't convert object to primitive value")}},1136:(t,e,r)=>{var n=r(626),o=r(5329),i=r(946),s=r(7857),a=r(6059),c=o([].concat);t.exports=n("Reflect","ownKeys")||function(t){var e=i.f(a(t)),r=s.f;return r?c(e,r(t)):e}},4058:t=>{t.exports={}},2:t=>{t.exports=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}}},7742:(t,e,r)=>{var n=r(1899),o=r(6991),i=r(7475),s=r(7252),a=r(1302),c=r(9813),u=r(3321),p=r(2529),l=r(3385),h=o&&o.prototype,f=c("species"),d=!1,v=i(n.PromiseRejectionEvent),g=s("Promise",(function(){var t=a(o),e=t!==String(o);if(!e&&66===l)return!0;if(p&&(!h.catch||!h.finally))return!0;if(l>=51&&/native code/.test(t))return!1;var r=new o((function(t){t(1)})),n=function(t){t((function(){}),(function(){}))};return(r.constructor={})[f]=n,!(d=r.then((function(){}))instanceof n)||!e&&u&&!v}));t.exports={CONSTRUCTOR:g,REJECTION_EVENT:v,SUBCLASSING:d}},6991:(t,e,r)=>{var n=r(1899);t.exports=n.Promise},6584:(t,e,r)=>{var n=r(6059),o=r(941),i=r(9520);t.exports=function(t,e){if(n(t),o(e)&&e.constructor===t)return e;var r=i.f(t);return(0,r.resolve)(e),r.promise}},1542:(t,e,r)=>{var n=r(6991),o=r(1385),i=r(7742).CONSTRUCTOR;t.exports=i||!o((function(t){n.all(t).then(void 0,(function(){}))}))},8397:t=>{var e=function(){this.head=null,this.tail=null};e.prototype={add:function(t){var e={item:t,next:null};this.head?this.tail.next=e:this.head=e,this.tail=e},get:function(){var t=this.head;if(t)return this.head=t.next,this.tail===t&&(this.tail=null),t.item}},t.exports=e},7524:(t,e,r)=>{var n=r(9754);t.exports=function(t,e,r){for(var o in e)r&&r.unsafe&&t[o]?t[o]=e[o]:n(t,o,e[o],r);return t}},9754:(t,e,r)=>{var n=r(2029);t.exports=function(t,e,r,o){o&&o.enumerable?t[e]=r:n(t,e,r)}},8219:(t,e,r)=>{var n=r(1899).TypeError;t.exports=function(t){if(null==t)throw n("Can't call method on "+t);return t}},4911:(t,e,r)=>{var n=r(1899),o=Object.defineProperty;t.exports=function(t,e){try{o(n,t,{value:e,configurable:!0,writable:!0})}catch(r){n[t]=e}return e}},4431:(t,e,r)=>{var n=r(626),o=r(5988),i=r(9813),s=r(5746),a=i("species");t.exports=function(t){var e=n(t),r=o.f;s&&e&&!e[a]&&r(e,a,{configurable:!0,get:function(){return this}})}},904:(t,e,r)=>{var n=r(2885),o=r(5988).f,i=r(2029),s=r(953),a=r(5623),c=r(9813)("toStringTag");t.exports=function(t,e,r,u){if(t){var p=r?t:t.prototype;s(p,c)||o(p,c,{configurable:!0,value:e}),u&&!n&&i(p,"toString",a)}}},4262:(t,e,r)=>{var n=r(8726),o=r(9418),i=n("keys");t.exports=function(t){return i[t]||(i[t]=o(t))}},3030:(t,e,r)=>{var n=r(1899),o=r(4911),i="__core-js_shared__",s=n[i]||o(i,{});t.exports=s},8726:(t,e,r)=>{var n=r(2529),o=r(3030);(t.exports=function(t,e){return o[t]||(o[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.22.0",mode:n?"pure":"global",copyright:"Â© 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.22.0/LICENSE",source:"https://github.com/zloirock/core-js"})},487:(t,e,r)=>{var n=r(6059),o=r(174),i=r(9813)("species");t.exports=function(t,e){var r,s=n(t).constructor;return void 0===s||null==(r=n(s)[i])?e:o(r)}},4620:(t,e,r)=>{var n=r(5329),o=r(2435),i=r(5803),s=r(8219),a=n("".charAt),c=n("".charCodeAt),u=n("".slice),p=function(t){return function(e,r){var n,p,l=i(s(e)),h=o(r),f=l.length;return h<0||h>=f?t?"":void 0:(n=c(l,h))<55296||n>56319||h+1===f||(p=c(l,h+1))<56320||p>57343?t?a(l,h):n:t?u(l,h,h+2):p-56320+(n-55296<<10)+65536}};t.exports={codeAt:p(!1),charAt:p(!0)}},2941:(t,e,r)=>{var n,o,i,s,a=r(1899),c=r(9730),u=r(6843),p=r(7475),l=r(953),h=r(5981),f=r(5463),d=r(3765),v=r(1333),g=r(8348),m=r(2749),y=r(6049),x=a.setImmediate,S=a.clearImmediate,b=a.process,w=a.Dispatch,k=a.Function,E=a.MessageChannel,O=a.String,P=0,I={};try{n=a.location}catch(t){}var _=function(t){if(l(I,t)){var e=I[t];delete I[t],e()}},A=function(t){return function(){_(t)}},R=function(t){_(t.data)},T=function(t){a.postMessage(O(t),n.protocol+"//"+n.host)};x&&S||(x=function(t){g(arguments.length,1);var e=p(t)?t:k(t),r=d(arguments,1);return I[++P]=function(){c(e,void 0,r)},o(P),P},S=function(t){delete I[t]},y?o=function(t){b.nextTick(A(t))}:w&&w.now?o=function(t){w.now(A(t))}:E&&!m?(s=(i=new E).port2,i.port1.onmessage=R,o=u(s.postMessage,s)):a.addEventListener&&p(a.postMessage)&&!a.importScripts&&n&&"file:"!==n.protocol&&!h(T)?(o=T,a.addEventListener("message",R,!1)):o="onreadystatechange"in v("script")?function(t){f.appendChild(v("script")).onreadystatechange=function(){f.removeChild(this),_(t)}}:function(t){setTimeout(A(t),0)}),t.exports={set:x,clear:S}},9413:(t,e,r)=>{var n=r(2435),o=Math.max,i=Math.min;t.exports=function(t,e){var r=n(t);return r<0?o(r+e,0):i(r,e)}},4529:(t,e,r)=>{var n=r(7026),o=r(8219);t.exports=function(t){return n(o(t))}},2435:t=>{var e=Math.ceil,r=Math.floor;t.exports=function(t){var n=+t;return n!=n||0===n?0:(n>0?r:e)(n)}},3057:(t,e,r)=>{var n=r(2435),o=Math.min;t.exports=function(t){return t>0?o(n(t),9007199254740991):0}},9678:(t,e,r)=>{var n=r(1899),o=r(8219),i=n.Object;t.exports=function(t){return i(o(t))}},6935:(t,e,r)=>{var n=r(1899),o=r(8834),i=r(941),s=r(6664),a=r(4229),c=r(9811),u=r(9813),p=n.TypeError,l=u("toPrimitive");t.exports=function(t,e){if(!i(t)||s(t))return t;var r,n=a(t,l);if(n){if(void 0===e&&(e="default"),r=o(n,t,e),!i(r)||s(r))return r;throw p("Can't convert object to primitive value")}return void 0===e&&(e="number"),c(t,e)}},3894:(t,e,r)=>{var n=r(6935),o=r(6664);t.exports=function(t){var e=n(t,"string");return o(e)?e:e+""}},2885:(t,e,r)=>{var n={};n[r(9813)("toStringTag")]="z",t.exports="[object z]"===String(n)},5803:(t,e,r)=>{var n=r(1899),o=r(9697),i=n.String;t.exports=function(t){if("Symbol"===o(t))throw TypeError("Cannot convert a Symbol value to a string");return i(t)}},9826:(t,e,r)=>{var n=r(1899).String;t.exports=function(t){try{return n(t)}catch(t){return"Object"}}},9418:(t,e,r)=>{var n=r(5329),o=0,i=Math.random(),s=n(1..toString);t.exports=function(t){return"Symbol("+(void 0===t?"":t)+")_"+s(++o+i,36)}},2302:(t,e,r)=>{var n=r(2497);t.exports=n&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},3937:(t,e,r)=>{var n=r(5746),o=r(5981);t.exports=n&&o((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},8348:(t,e,r)=>{var n=r(1899).TypeError;t.exports=function(t,e){if(t<e)throw n("Not enough arguments");return t}},9813:(t,e,r)=>{var n=r(1899),o=r(8726),i=r(953),s=r(9418),a=r(2497),c=r(2302),u=o("wks"),p=n.Symbol,l=p&&p.for,h=c?p:p&&p.withoutSetter||s;t.exports=function(t){if(!i(u,t)||!a&&"string"!=typeof u[t]){var e="Symbol."+t;a&&i(p,t)?u[t]=p[t]:u[t]=c&&l?l(e):h(e)}return u[t]}},9812:(t,e,r)=>{var n=r(6887),o=r(1899),i=r(7046),s=r(249),a=r(8929),c=r(3489),u=r(9290),p=r(2029),l=r(1887),h=r(8694),f=r(3794),d=r(3091),v=r(4649),g=r(9813),m=r(8780),y=g("toStringTag"),x=o.Error,S=[].push,b=function(t,e){var r,n=arguments.length>2?arguments[2]:void 0,o=i(w,this);a?r=a(new x,o?s(this):w):(r=o?this:u(w),p(r,y,"Error")),void 0!==e&&p(r,"message",v(e)),m&&p(r,"stack",h(r.stack,1)),f(r,n);var c=[];return d(t,S,{that:c}),p(r,"errors",c),r};a?a(b,x):c(b,x,{name:!0});var w=b.prototype=u(x.prototype,{constructor:l(1,b),message:l(1,""),name:l(1,"AggregateError")});n({global:!0},{AggregateError:b})},7627:(t,e,r)=>{r(9812)},6274:(t,e,r)=>{var n=r(4529),o=r(8479),i=r(2077),s=r(5402),a=r(5988).f,c=r(7771),u=r(2529),p=r(5746),l="Array Iterator",h=s.set,f=s.getterFor(l);t.exports=c(Array,"Array",(function(t,e){h(this,{type:l,target:n(t),index:0,kind:e})}),(function(){var t=f(this),e=t.target,r=t.kind,n=t.index++;return!e||n>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==r?{value:n,done:!1}:"values"==r?{value:e[n],done:!1}:{value:[n,e[n]],done:!1}}),"values");var d=i.Arguments=i.Array;if(o("keys"),o("values"),o("entries"),!u&&p&&"values"!==d.name)try{a(d,"name",{value:"values"})}catch(t){}},6450:(t,e,r)=>{var n=r(6887),o=r(5746),i=r(5988).f;n({target:"Object",stat:!0,forced:Object.defineProperty!==i,sham:!o},{defineProperty:i})},5967:()=>{},4560:(t,e,r)=>{var n=r(6887),o=r(8834),i=r(4883),s=r(9520),a=r(2),c=r(3091);n({target:"Promise",stat:!0},{allSettled:function(t){var e=this,r=s.f(e),n=r.resolve,u=r.reject,p=a((function(){var r=i(e.resolve),s=[],a=0,u=1;c(t,(function(t){var i=a++,c=!1;u++,o(r,e,t).then((function(t){c||(c=!0,s[i]={status:"fulfilled",value:t},--u||n(s))}),(function(t){c||(c=!0,s[i]={status:"rejected",reason:t},--u||n(s))}))})),--u||n(s)}));return p.error&&u(p.value),r.promise}})},6890:(t,e,r)=>{var n=r(6887),o=r(8834),i=r(4883),s=r(9520),a=r(2),c=r(3091);n({target:"Promise",stat:!0,forced:r(1542)},{all:function(t){var e=this,r=s.f(e),n=r.resolve,u=r.reject,p=a((function(){var r=i(e.resolve),s=[],a=0,p=1;c(t,(function(t){var i=a++,c=!1;p++,o(r,e,t).then((function(t){c||(c=!0,s[i]=t,--p||n(s))}),u)})),--p||n(s)}));return p.error&&u(p.value),r.promise}})},7206:(t,e,r)=>{var n=r(6887),o=r(8834),i=r(4883),s=r(626),a=r(9520),c=r(2),u=r(3091),p="No one promise resolved";n({target:"Promise",stat:!0},{any:function(t){var e=this,r=s("AggregateError"),n=a.f(e),l=n.resolve,h=n.reject,f=c((function(){var n=i(e.resolve),s=[],a=0,c=1,f=!1;u(t,(function(t){var i=a++,u=!1;c++,o(n,e,t).then((function(t){u||f||(f=!0,l(t))}),(function(t){u||f||(u=!0,s[i]=t,--c||h(new r(s,p)))}))})),--c||h(new r(s,p))}));return f.error&&h(f.value),n.promise}})},3376:(t,e,r)=>{var n=r(6887),o=r(2529),i=r(7742).CONSTRUCTOR,s=r(6991),a=r(626),c=r(7475),u=r(9754),p=s&&s.prototype;if(n({target:"Promise",proto:!0,forced:i,real:!0},{catch:function(t){return this.then(void 0,t)}}),!o&&c(s)){var l=a("Promise").prototype.catch;p.catch!==l&&u(p,"catch",l,{unsafe:!0})}},6934:(t,e,r)=>{var n,o,i,s=r(6887),a=r(2529),c=r(6049),u=r(1899),p=r(8834),l=r(9754),h=r(7524),f=r(8929),d=r(904),v=r(4431),g=r(4883),m=r(7475),y=r(941),x=r(5743),S=r(487),b=r(2941).set,w=r(6132),k=r(4845),E=r(2),O=r(8397),P=r(5402),I=r(6991),_=r(7742),A=r(9520),R="Promise",T=_.CONSTRUCTOR,j=_.REJECTION_EVENT,L=_.SUBCLASSING,M=P.getterFor(R),D=P.set,N=I&&I.prototype,U=I,C=N,$=u.TypeError,z=u.document,G=u.process,F=A.f,W=F,V=!!(z&&z.createEvent&&u.dispatchEvent),B="unhandledrejection",Z=function(t){var e;return!(!y(t)||!m(e=t.then))&&e},K=function(t,e){var r,n,o,i=e.value,s=1==e.state,a=s?t.ok:t.fail,c=t.resolve,u=t.reject,l=t.domain;try{a?(s||(2===e.rejection&&X(e),e.rejection=1),!0===a?r=i:(l&&l.enter(),r=a(i),l&&(l.exit(),o=!0)),r===t.promise?u($("Promise-chain cycle")):(n=Z(r))?p(n,r,c,u):c(r)):u(i)}catch(t){l&&!o&&l.exit(),u(t)}},H=function(t,e){t.notified||(t.notified=!0,w((function(){for(var r,n=t.reactions;r=n.get();)K(r,t);t.notified=!1,e&&!t.rejection&&Y(t)})))},q=function(t,e,r){var n,o;V?((n=z.createEvent("Event")).promise=e,n.reason=r,n.initEvent(t,!1,!0),u.dispatchEvent(n)):n={promise:e,reason:r},!j&&(o=u["on"+t])?o(n):t===B&&k("Unhandled promise rejection",r)},Y=function(t){p(b,u,(function(){var e,r=t.facade,n=t.value;if(J(t)&&(e=E((function(){c?G.emit("unhandledRejection",n,r):q(B,r,n)})),t.rejection=c||J(t)?2:1,e.error))throw e.value}))},J=function(t){return 1!==t.rejection&&!t.parent},X=function(t){p(b,u,(function(){var e=t.facade;c?G.emit("rejectionHandled",e):q("rejectionhandled",e,t.value)}))},Q=function(t,e,r){return function(n){t(e,n,r)}},tt=function(t,e,r){t.done||(t.done=!0,r&&(t=r),t.value=e,t.state=2,H(t,!0))},et=function(t,e,r){if(!t.done){t.done=!0,r&&(t=r);try{if(t.facade===e)throw $("Promise can't be resolved itself");var n=Z(e);n?w((function(){var r={done:!1};try{p(n,e,Q(et,r,t),Q(tt,r,t))}catch(e){tt(r,e,t)}})):(t.value=e,t.state=1,H(t,!1))}catch(e){tt({done:!1},e,t)}}};if(T&&(C=(U=function(t){x(this,C),g(t),p(n,this);var e=M(this);try{t(Q(et,e),Q(tt,e))}catch(t){tt(e,t)}}).prototype,(n=function(t){D(this,{type:R,done:!1,notified:!1,parent:!1,reactions:new O,rejection:!1,state:0,value:void 0})}).prototype=h(C,{then:function(t,e){var r=M(this),n=F(S(this,U));return r.parent=!0,n.ok=!m(t)||t,n.fail=m(e)&&e,n.domain=c?G.domain:void 0,0==r.state?r.reactions.add(n):w((function(){K(n,r)})),n.promise}}),o=function(){var t=new n,e=M(t);this.promise=t,this.resolve=Q(et,e),this.reject=Q(tt,e)},A.f=F=function(t){return t===U||void 0===t?new o(t):W(t)},!a&&m(I)&&N!==Object.prototype)){i=N.then,L||l(N,"then",(function(t,e){var r=this;return new U((function(t,e){p(i,r,t,e)})).then(t,e)}),{unsafe:!0});try{delete N.constructor}catch(t){}f&&f(N,C)}s({global:!0,wrap:!0,forced:T},{Promise:U}),d(U,R,!1,!0),v(R)},4349:(t,e,r)=>{var n=r(6887),o=r(2529),i=r(6991),s=r(5981),a=r(626),c=r(7475),u=r(487),p=r(6584),l=r(9754),h=i&&i.prototype;if(n({target:"Promise",proto:!0,real:!0,forced:!!i&&s((function(){h.finally.call({then:function(){}},(function(){}))}))},{finally:function(t){var e=u(this,a("Promise")),r=c(t);return this.then(r?function(r){return p(e,t()).then((function(){return r}))}:t,r?function(r){return p(e,t()).then((function(){throw r}))}:t)}}),!o&&c(i)){var f=a("Promise").prototype.finally;h.finally!==f&&l(h,"finally",f,{unsafe:!0})}},8881:(t,e,r)=>{r(6934),r(6890),r(3376),r(5921),r(4069),r(4482)},5921:(t,e,r)=>{var n=r(6887),o=r(8834),i=r(4883),s=r(9520),a=r(2),c=r(3091);n({target:"Promise",stat:!0,forced:r(1542)},{race:function(t){var e=this,r=s.f(e),n=r.reject,u=a((function(){var s=i(e.resolve);c(t,(function(t){o(s,e,t).then(r.resolve,n)}))}));return u.error&&n(u.value),r.promise}})},4069:(t,e,r)=>{var n=r(6887),o=r(8834),i=r(9520);n({target:"Promise",stat:!0,forced:r(7742).CONSTRUCTOR},{reject:function(t){var e=i.f(this);return o(e.reject,void 0,t),e.promise}})},4482:(t,e,r)=>{var n=r(6887),o=r(626),i=r(2529),s=r(6991),a=r(7742).CONSTRUCTOR,c=r(6584),u=o("Promise"),p=i&&!a;n({target:"Promise",stat:!0,forced:i||a},{resolve:function(t){return c(p&&this===u?s:this,t)}})},7971:(t,e,r)=>{var n=r(4620).charAt,o=r(5803),i=r(5402),s=r(7771),a="String Iterator",c=i.set,u=i.getterFor(a);s(String,"String",(function(t){c(this,{type:a,string:o(t),index:0})}),(function(){var t,e=u(this),r=e.string,o=e.index;return o>=r.length?{value:void 0,done:!0}:(t=n(r,o),e.index+=t.length,{value:t,done:!1})}))},7634:(t,e,r)=>{r(6274);var n=r(3281),o=r(1899),i=r(9697),s=r(2029),a=r(2077),c=r(9813)("toStringTag");for(var u in n){var p=o[u],l=p&&p.prototype;l&&i(l)!==c&&s(l,c,u),a[u]=a.Array}},1910:(t,e,r)=>{var n=r(8171);t.exports=n},7460:(t,e,r)=>{var n=r(2956);r(7634),t.exports=n},9662:(t,e,r)=>{var n=r(7854),o=r(614),i=r(6330),s=n.TypeError;t.exports=function(t){if(o(t))return t;throw s(i(t)+" is not a function")}},6077:(t,e,r)=>{var n=r(7854),o=r(614),i=n.String,s=n.TypeError;t.exports=function(t){if("object"==typeof t||o(t))return t;throw s("Can't set "+i(t)+" as a prototype")}},1223:(t,e,r)=>{var n=r(5112),o=r(30),i=r(3070),s=n("unscopables"),a=Array.prototype;null==a[s]&&i.f(a,s,{configurable:!0,value:o(null)}),t.exports=function(t){a[s][t]=!0}},9670:(t,e,r)=>{var n=r(7854),o=r(111),i=n.String,s=n.TypeError;t.exports=function(t){if(o(t))return t;throw s(i(t)+" is not an object")}},1318:(t,e,r)=>{var n=r(5656),o=r(1400),i=r(6244),s=function(t){return function(e,r,s){var a,c=n(e),u=i(c),p=o(s,u);if(t&&r!=r){for(;u>p;)if((a=c[p++])!=a)return!0}else for(;u>p;p++)if((t||p in c)&&c[p]===r)return t||p||0;return!t&&-1}};t.exports={includes:s(!0),indexOf:s(!1)}},4326:(t,e,r)=>{var n=r(1702),o=n({}.toString),i=n("".slice);t.exports=function(t){return i(o(t),8,-1)}},648:(t,e,r)=>{var n=r(7854),o=r(1694),i=r(614),s=r(4326),a=r(5112)("toStringTag"),c=n.Object,u="Arguments"==s(function(){return arguments}());t.exports=o?s:function(t){var e,r,n;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(r=function(t,e){try{return t[e]}catch(t){}}(e=c(t),a))?r:u?s(e):"Object"==(n=s(e))&&i(e.callee)?"Arguments":n}},7741:(t,e,r)=>{var n=r(1702),o=Error,i=n("".replace),s=String(o("zxcasd").stack),a=/\n\s*at [^:]*:[^\n]*/,c=a.test(s);t.exports=function(t,e){if(c&&"string"==typeof t&&!o.prepareStackTrace)for(;e--;)t=i(t,a,"");return t}},9920:(t,e,r)=>{var n=r(2597),o=r(3887),i=r(1236),s=r(3070);t.exports=function(t,e,r){for(var a=o(e),c=s.f,u=i.f,p=0;p<a.length;p++){var l=a[p];n(t,l)||r&&n(r,l)||c(t,l,u(e,l))}}},8544:(t,e,r)=>{var n=r(7293);t.exports=!n((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}))},4994:(t,e,r)=>{var n=r(3383).IteratorPrototype,o=r(30),i=r(9114),s=r(8003),a=r(7497),c=function(){return this};t.exports=function(t,e,r,u){var p=e+" Iterator";return t.prototype=o(n,{next:i(+!u,r)}),s(t,p,!1,!0),a[p]=c,t}},8880:(t,e,r)=>{var n=r(9781),o=r(3070),i=r(9114);t.exports=n?function(t,e,r){return o.f(t,e,i(1,r))}:function(t,e,r){return t[e]=r,t}},9114:t=>{t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},654:(t,e,r)=>{var n=r(2109),o=r(6916),i=r(1913),s=r(6530),a=r(614),c=r(4994),u=r(9518),p=r(7674),l=r(8003),h=r(8880),f=r(1320),d=r(5112),v=r(7497),g=r(3383),m=s.PROPER,y=s.CONFIGURABLE,x=g.IteratorPrototype,S=g.BUGGY_SAFARI_ITERATORS,b=d("iterator"),w="keys",k="values",E="entries",O=function(){return this};t.exports=function(t,e,r,s,d,g,P){c(r,e,s);var I,_,A,R=function(t){if(t===d&&D)return D;if(!S&&t in L)return L[t];switch(t){case w:case k:case E:return function(){return new r(this,t)}}return function(){return new r(this)}},T=e+" Iterator",j=!1,L=t.prototype,M=L[b]||L["@@iterator"]||d&&L[d],D=!S&&M||R(d),N="Array"==e&&L.entries||M;if(N&&(I=u(N.call(new t)))!==Object.prototype&&I.next&&(i||u(I)===x||(p?p(I,x):a(I[b])||f(I,b,O)),l(I,T,!0,!0),i&&(v[T]=O)),m&&d==k&&M&&M.name!==k&&(!i&&y?h(L,"name",k):(j=!0,D=function(){return o(M,this)})),d)if(_={values:R(k),keys:g?D:R(w),entries:R(E)},P)for(A in _)(S||j||!(A in L))&&f(L,A,_[A]);else n({target:e,proto:!0,forced:S||j},_);return i&&!P||L[b]===D||f(L,b,D,{name:d}),v[e]=D,_}},9781:(t,e,r)=>{var n=r(7293);t.exports=!n((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},317:(t,e,r)=>{var n=r(7854),o=r(111),i=n.document,s=o(i)&&o(i.createElement);t.exports=function(t){return s?i.createElement(t):{}}},8324:t=>{t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},8509:(t,e,r)=>{var n=r(317)("span").classList,o=n&&n.constructor&&n.constructor.prototype;t.exports=o===Object.prototype?void 0:o},8113:(t,e,r)=>{var n=r(5005);t.exports=n("navigator","userAgent")||""},7392:(t,e,r)=>{var n,o,i=r(7854),s=r(8113),a=i.process,c=i.Deno,u=a&&a.versions||c&&c.version,p=u&&u.v8;p&&(o=(n=p.split("."))[0]>0&&n[0]<4?1:+(n[0]+n[1])),!o&&s&&(!(n=s.match(/Edge\/(\d+)/))||n[1]>=74)&&(n=s.match(/Chrome\/(\d+)/))&&(o=+n[1]),t.exports=o},748:t=>{t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},2914:(t,e,r)=>{var n=r(7293),o=r(9114);t.exports=!n((function(){var t=Error("a");return!("stack"in t)||(Object.defineProperty(t,"stack",o(1,7)),7!==t.stack)}))},2109:(t,e,r)=>{var n=r(7854),o=r(1236).f,i=r(8880),s=r(1320),a=r(3505),c=r(9920),u=r(4705);t.exports=function(t,e){var r,p,l,h,f,d=t.target,v=t.global,g=t.stat;if(r=v?n:g?n[d]||a(d,{}):(n[d]||{}).prototype)for(p in e){if(h=e[p],l=t.noTargetGet?(f=o(r,p))&&f.value:r[p],!u(v?p:d+(g?".":"#")+p,t.forced)&&void 0!==l){if(typeof h==typeof l)continue;c(h,l)}(t.sham||l&&l.sham)&&i(h,"sham",!0),s(r,p,h,t)}}},7293:t=>{t.exports=function(t){try{return!!t()}catch(t){return!0}}},2104:(t,e,r)=>{var n=r(4374),o=Function.prototype,i=o.apply,s=o.call;t.exports="object"==typeof Reflect&&Reflect.apply||(n?s.bind(i):function(){return s.apply(i,arguments)})},4374:(t,e,r)=>{var n=r(7293);t.exports=!n((function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")}))},6916:(t,e,r)=>{var n=r(4374),o=Function.prototype.call;t.exports=n?o.bind(o):function(){return o.apply(o,arguments)}},6530:(t,e,r)=>{var n=r(9781),o=r(2597),i=Function.prototype,s=n&&Object.getOwnPropertyDescriptor,a=o(i,"name"),c=a&&"something"===function(){}.name,u=a&&(!n||n&&s(i,"name").configurable);t.exports={EXISTS:a,PROPER:c,CONFIGURABLE:u}},1702:(t,e,r)=>{var n=r(4374),o=Function.prototype,i=o.bind,s=o.call,a=n&&i.bind(s,s);t.exports=n?function(t){return t&&a(t)}:function(t){return t&&function(){return s.apply(t,arguments)}}},5005:(t,e,r)=>{var n=r(7854),o=r(614),i=function(t){return o(t)?t:void 0};t.exports=function(t,e){return arguments.length<2?i(n[t]):n[t]&&n[t][e]}},8173:(t,e,r)=>{var n=r(9662);t.exports=function(t,e){var r=t[e];return null==r?void 0:n(r)}},7854:(t,e,r)=>{var n=function(t){return t&&t.Math==Math&&t};t.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof r.g&&r.g)||function(){return this}()||Function("return this")()},2597:(t,e,r)=>{var n=r(1702),o=r(7908),i=n({}.hasOwnProperty);t.exports=Object.hasOwn||function(t,e){return i(o(t),e)}},3501:t=>{t.exports={}},490:(t,e,r)=>{var n=r(5005);t.exports=n("document","documentElement")},4664:(t,e,r)=>{var n=r(9781),o=r(7293),i=r(317);t.exports=!n&&!o((function(){return 7!=Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a}))},8361:(t,e,r)=>{var n=r(7854),o=r(1702),i=r(7293),s=r(4326),a=n.Object,c=o("".split);t.exports=i((function(){return!a("z").propertyIsEnumerable(0)}))?function(t){return"String"==s(t)?c(t,""):a(t)}:a},9587:(t,e,r)=>{var n=r(614),o=r(111),i=r(7674);t.exports=function(t,e,r){var s,a;return i&&n(s=e.constructor)&&s!==r&&o(a=s.prototype)&&a!==r.prototype&&i(t,a),t}},2788:(t,e,r)=>{var n=r(1702),o=r(614),i=r(5465),s=n(Function.toString);o(i.inspectSource)||(i.inspectSource=function(t){return s(t)}),t.exports=i.inspectSource},8340:(t,e,r)=>{var n=r(111),o=r(8880);t.exports=function(t,e){n(e)&&"cause"in e&&o(t,"cause",e.cause)}},9909:(t,e,r)=>{var n,o,i,s=r(8536),a=r(7854),c=r(1702),u=r(111),p=r(8880),l=r(2597),h=r(5465),f=r(6200),d=r(3501),v="Object already initialized",g=a.TypeError,m=a.WeakMap;if(s||h.state){var y=h.state||(h.state=new m),x=c(y.get),S=c(y.has),b=c(y.set);n=function(t,e){if(S(y,t))throw new g(v);return e.facade=t,b(y,t,e),e},o=function(t){return x(y,t)||{}},i=function(t){return S(y,t)}}else{var w=f("state");d[w]=!0,n=function(t,e){if(l(t,w))throw new g(v);return e.facade=t,p(t,w,e),e},o=function(t){return l(t,w)?t[w]:{}},i=function(t){return l(t,w)}}t.exports={set:n,get:o,has:i,enforce:function(t){return i(t)?o(t):n(t,{})},getterFor:function(t){return function(e){var r;if(!u(e)||(r=o(e)).type!==t)throw g("Incompatible receiver, "+t+" required");return r}}}},614:t=>{t.exports=function(t){return"function"==typeof t}},4705:(t,e,r)=>{var n=r(7293),o=r(614),i=/#|\.prototype\./,s=function(t,e){var r=c[a(t)];return r==p||r!=u&&(o(e)?n(e):!!e)},a=s.normalize=function(t){return String(t).replace(i,".").toLowerCase()},c=s.data={},u=s.NATIVE="N",p=s.POLYFILL="P";t.exports=s},111:(t,e,r)=>{var n=r(614);t.exports=function(t){return"object"==typeof t?null!==t:n(t)}},1913:t=>{t.exports=!1},2190:(t,e,r)=>{var n=r(7854),o=r(5005),i=r(614),s=r(7976),a=r(3307),c=n.Object;t.exports=a?function(t){return"symbol"==typeof t}:function(t){var e=o("Symbol");return i(e)&&s(e.prototype,c(t))}},3383:(t,e,r)=>{var n,o,i,s=r(7293),a=r(614),c=r(30),u=r(9518),p=r(1320),l=r(5112),h=r(1913),f=l("iterator"),d=!1;[].keys&&("next"in(i=[].keys())?(o=u(u(i)))!==Object.prototype&&(n=o):d=!0),null==n||s((function(){var t={};return n[f].call(t)!==t}))?n={}:h&&(n=c(n)),a(n[f])||p(n,f,(function(){return this})),t.exports={IteratorPrototype:n,BUGGY_SAFARI_ITERATORS:d}},7497:t=>{t.exports={}},6244:(t,e,r)=>{var n=r(7466);t.exports=function(t){return n(t.length)}},133:(t,e,r)=>{var n=r(7392),o=r(7293);t.exports=!!Object.getOwnPropertySymbols&&!o((function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&n&&n<41}))},8536:(t,e,r)=>{var n=r(7854),o=r(614),i=r(2788),s=n.WeakMap;t.exports=o(s)&&/native code/.test(i(s))},6277:(t,e,r)=>{var n=r(1340);t.exports=function(t,e){return void 0===t?arguments.length<2?"":e:n(t)}},30:(t,e,r)=>{var n,o=r(9670),i=r(6048),s=r(748),a=r(3501),c=r(490),u=r(317),p=r(6200)("IE_PROTO"),l=function(){},h=function(t){return"<script>"+t+"<\/script>"},f=function(t){t.write(h("")),t.close();var e=t.parentWindow.Object;return t=null,e},d=function(){try{n=new ActiveXObject("htmlfile")}catch(t){}var t,e;d="undefined"!=typeof document?document.domain&&n?f(n):((e=u("iframe")).style.display="none",c.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(h("document.F=Object")),t.close(),t.F):f(n);for(var r=s.length;r--;)delete d.prototype[s[r]];return d()};a[p]=!0,t.exports=Object.create||function(t,e){var r;return null!==t?(l.prototype=o(t),r=new l,l.prototype=null,r[p]=t):r=d(),void 0===e?r:i.f(r,e)}},6048:(t,e,r)=>{var n=r(9781),o=r(3353),i=r(3070),s=r(9670),a=r(5656),c=r(1956);e.f=n&&!o?Object.defineProperties:function(t,e){s(t);for(var r,n=a(e),o=c(e),u=o.length,p=0;u>p;)i.f(t,r=o[p++],n[r]);return t}},3070:(t,e,r)=>{var n=r(7854),o=r(9781),i=r(4664),s=r(3353),a=r(9670),c=r(4948),u=n.TypeError,p=Object.defineProperty,l=Object.getOwnPropertyDescriptor;e.f=o?s?function(t,e,r){if(a(t),e=c(e),a(r),"function"==typeof t&&"prototype"===e&&"value"in r&&"writable"in r&&!r.writable){var n=l(t,e);n&&n.writable&&(t[e]=r.value,r={configurable:"configurable"in r?r.configurable:n.configurable,enumerable:"enumerable"in r?r.enumerable:n.enumerable,writable:!1})}return p(t,e,r)}:p:function(t,e,r){if(a(t),e=c(e),a(r),i)try{return p(t,e,r)}catch(t){}if("get"in r||"set"in r)throw u("Accessors not supported");return"value"in r&&(t[e]=r.value),t}},1236:(t,e,r)=>{var n=r(9781),o=r(6916),i=r(5296),s=r(9114),a=r(5656),c=r(4948),u=r(2597),p=r(4664),l=Object.getOwnPropertyDescriptor;e.f=n?l:function(t,e){if(t=a(t),e=c(e),p)try{return l(t,e)}catch(t){}if(u(t,e))return s(!o(i.f,t,e),t[e])}},8006:(t,e,r)=>{var n=r(6324),o=r(748).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return n(t,o)}},5181:(t,e)=>{e.f=Object.getOwnPropertySymbols},9518:(t,e,r)=>{var n=r(7854),o=r(2597),i=r(614),s=r(7908),a=r(6200),c=r(8544),u=a("IE_PROTO"),p=n.Object,l=p.prototype;t.exports=c?p.getPrototypeOf:function(t){var e=s(t);if(o(e,u))return e[u];var r=e.constructor;return i(r)&&e instanceof r?r.prototype:e instanceof p?l:null}},7976:(t,e,r)=>{var n=r(1702);t.exports=n({}.isPrototypeOf)},6324:(t,e,r)=>{var n=r(1702),o=r(2597),i=r(5656),s=r(1318).indexOf,a=r(3501),c=n([].push);t.exports=function(t,e){var r,n=i(t),u=0,p=[];for(r in n)!o(a,r)&&o(n,r)&&c(p,r);for(;e.length>u;)o(n,r=e[u++])&&(~s(p,r)||c(p,r));return p}},1956:(t,e,r)=>{var n=r(6324),o=r(748);t.exports=Object.keys||function(t){return n(t,o)}},5296:(t,e)=>{var r={}.propertyIsEnumerable,n=Object.getOwnPropertyDescriptor,o=n&&!r.call({1:2},1);e.f=o?function(t){var e=n(this,t);return!!e&&e.enumerable}:r},7674:(t,e,r)=>{var n=r(1702),o=r(9670),i=r(6077);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,r={};try{(t=n(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(r,[]),e=r instanceof Array}catch(t){}return function(r,n){return o(r),i(n),e?t(r,n):r.__proto__=n,r}}():void 0)},2140:(t,e,r)=>{var n=r(7854),o=r(6916),i=r(614),s=r(111),a=n.TypeError;t.exports=function(t,e){var r,n;if("string"===e&&i(r=t.toString)&&!s(n=o(r,t)))return n;if(i(r=t.valueOf)&&!s(n=o(r,t)))return n;if("string"!==e&&i(r=t.toString)&&!s(n=o(r,t)))return n;throw a("Can't convert object to primitive value")}},3887:(t,e,r)=>{var n=r(5005),o=r(1702),i=r(8006),s=r(5181),a=r(9670),c=o([].concat);t.exports=n("Reflect","ownKeys")||function(t){var e=i.f(a(t)),r=s.f;return r?c(e,r(t)):e}},2626:(t,e,r)=>{var n=r(3070).f;t.exports=function(t,e,r){r in t||n(t,r,{configurable:!0,get:function(){return e[r]},set:function(t){e[r]=t}})}},1320:(t,e,r)=>{var n=r(7854),o=r(614),i=r(2597),s=r(8880),a=r(3505),c=r(2788),u=r(9909),p=r(6530).CONFIGURABLE,l=u.get,h=u.enforce,f=String(String).split("String");(t.exports=function(t,e,r,c){var u,l=!!c&&!!c.unsafe,d=!!c&&!!c.enumerable,v=!!c&&!!c.noTargetGet,g=c&&void 0!==c.name?c.name:e;o(r)&&("Symbol("===String(g).slice(0,7)&&(g="["+String(g).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!i(r,"name")||p&&r.name!==g)&&s(r,"name",g),(u=h(r)).source||(u.source=f.join("string"==typeof g?g:""))),t!==n?(l?!v&&t[e]&&(d=!0):delete t[e],d?t[e]=r:s(t,e,r)):d?t[e]=r:a(e,r)})(Function.prototype,"toString",(function(){return o(this)&&l(this).source||c(this)}))},2261:(t,e,r)=>{var n,o,i=r(6916),s=r(1702),a=r(1340),c=r(7066),u=r(2999),p=r(2309),l=r(30),h=r(9909).get,f=r(9441),d=r(7168),v=p("native-string-replace",String.prototype.replace),g=RegExp.prototype.exec,m=g,y=s("".charAt),x=s("".indexOf),S=s("".replace),b=s("".slice),w=(o=/b*/g,i(g,n=/a/,"a"),i(g,o,"a"),0!==n.lastIndex||0!==o.lastIndex),k=u.BROKEN_CARET,E=void 0!==/()??/.exec("")[1];(w||E||k||f||d)&&(m=function(t){var e,r,n,o,s,u,p,f=this,d=h(f),O=a(t),P=d.raw;if(P)return P.lastIndex=f.lastIndex,e=i(m,P,O),f.lastIndex=P.lastIndex,e;var I=d.groups,_=k&&f.sticky,A=i(c,f),R=f.source,T=0,j=O;if(_&&(A=S(A,"y",""),-1===x(A,"g")&&(A+="g"),j=b(O,f.lastIndex),f.lastIndex>0&&(!f.multiline||f.multiline&&"\n"!==y(O,f.lastIndex-1))&&(R="(?: "+R+")",j=" "+j,T++),r=new RegExp("^(?:"+R+")",A)),E&&(r=new RegExp("^"+R+"$(?!\\s)",A)),w&&(n=f.lastIndex),o=i(g,_?r:f,j),_?o?(o.input=b(o.input,T),o[0]=b(o[0],T),o.index=f.lastIndex,f.lastIndex+=o[0].length):f.lastIndex=0:w&&o&&(f.lastIndex=f.global?o.index+o[0].length:n),E&&o&&o.length>1&&i(v,o[0],r,(function(){for(s=1;s<arguments.length-2;s++)void 0===arguments[s]&&(o[s]=void 0)})),o&&I)for(o.groups=u=l(null),s=0;s<I.length;s++)u[(p=I[s])[0]]=o[p[1]];return o}),t.exports=m},7066:(t,e,r)=>{var n=r(9670);t.exports=function(){var t=n(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},2999:(t,e,r)=>{var n=r(7293),o=r(7854).RegExp,i=n((function(){var t=o("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),s=i||n((function(){return!o("a","y").sticky})),a=i||n((function(){var t=o("^r","gy");return t.lastIndex=2,null!=t.exec("str")}));t.exports={BROKEN_CARET:a,MISSED_STICKY:s,UNSUPPORTED_Y:i}},9441:(t,e,r)=>{var n=r(7293),o=r(7854).RegExp;t.exports=n((function(){var t=o(".","s");return!(t.dotAll&&t.exec("\n")&&"s"===t.flags)}))},7168:(t,e,r)=>{var n=r(7293),o=r(7854).RegExp;t.exports=n((function(){var t=o("(?<a>b)","g");return"b"!==t.exec("b").groups.a||"bc"!=="b".replace(t,"$<a>c")}))},4488:(t,e,r)=>{var n=r(7854).TypeError;t.exports=function(t){if(null==t)throw n("Can't call method on "+t);return t}},3505:(t,e,r)=>{var n=r(7854),o=Object.defineProperty;t.exports=function(t,e){try{o(n,t,{value:e,configurable:!0,writable:!0})}catch(r){n[t]=e}return e}},8003:(t,e,r)=>{var n=r(3070).f,o=r(2597),i=r(5112)("toStringTag");t.exports=function(t,e,r){t&&!r&&(t=t.prototype),t&&!o(t,i)&&n(t,i,{configurable:!0,value:e})}},6200:(t,e,r)=>{var n=r(2309),o=r(9711),i=n("keys");t.exports=function(t){return i[t]||(i[t]=o(t))}},5465:(t,e,r)=>{var n=r(7854),o=r(3505),i="__core-js_shared__",s=n[i]||o(i,{});t.exports=s},2309:(t,e,r)=>{var n=r(1913),o=r(5465);(t.exports=function(t,e){return o[t]||(o[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.22.0",mode:n?"pure":"global",copyright:"Â© 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.22.0/LICENSE",source:"https://github.com/zloirock/core-js"})},1400:(t,e,r)=>{var n=r(9303),o=Math.max,i=Math.min;t.exports=function(t,e){var r=n(t);return r<0?o(r+e,0):i(r,e)}},5656:(t,e,r)=>{var n=r(8361),o=r(4488);t.exports=function(t){return n(o(t))}},9303:t=>{var e=Math.ceil,r=Math.floor;t.exports=function(t){var n=+t;return n!=n||0===n?0:(n>0?r:e)(n)}},7466:(t,e,r)=>{var n=r(9303),o=Math.min;t.exports=function(t){return t>0?o(n(t),9007199254740991):0}},7908:(t,e,r)=>{var n=r(7854),o=r(4488),i=n.Object;t.exports=function(t){return i(o(t))}},7593:(t,e,r)=>{var n=r(7854),o=r(6916),i=r(111),s=r(2190),a=r(8173),c=r(2140),u=r(5112),p=n.TypeError,l=u("toPrimitive");t.exports=function(t,e){if(!i(t)||s(t))return t;var r,n=a(t,l);if(n){if(void 0===e&&(e="default"),r=o(n,t,e),!i(r)||s(r))return r;throw p("Can't convert object to primitive value")}return void 0===e&&(e="number"),c(t,e)}},4948:(t,e,r)=>{var n=r(7593),o=r(2190);t.exports=function(t){var e=n(t,"string");return o(e)?e:e+""}},1694:(t,e,r)=>{var n={};n[r(5112)("toStringTag")]="z",t.exports="[object z]"===String(n)},1340:(t,e,r)=>{var n=r(7854),o=r(648),i=n.String;t.exports=function(t){if("Symbol"===o(t))throw TypeError("Cannot convert a Symbol value to a string");return i(t)}},6330:(t,e,r)=>{var n=r(7854).String;t.exports=function(t){try{return n(t)}catch(t){return"Object"}}},9711:(t,e,r)=>{var n=r(1702),o=0,i=Math.random(),s=n(1..toString);t.exports=function(t){return"Symbol("+(void 0===t?"":t)+")_"+s(++o+i,36)}},3307:(t,e,r)=>{var n=r(133);t.exports=n&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},3353:(t,e,r)=>{var n=r(9781),o=r(7293);t.exports=n&&o((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},5112:(t,e,r)=>{var n=r(7854),o=r(2309),i=r(2597),s=r(9711),a=r(133),c=r(3307),u=o("wks"),p=n.Symbol,l=p&&p.for,h=c?p:p&&p.withoutSetter||s;t.exports=function(t){if(!i(u,t)||!a&&"string"!=typeof u[t]){var e="Symbol."+t;a&&i(p,t)?u[t]=p[t]:u[t]=c&&l?l(e):h(e)}return u[t]}},9191:(t,e,r)=>{var n=r(5005),o=r(2597),i=r(8880),s=r(7976),a=r(7674),c=r(9920),u=r(2626),p=r(9587),l=r(6277),h=r(8340),f=r(7741),d=r(2914),v=r(9781),g=r(1913);t.exports=function(t,e,r,m){var y="stackTraceLimit",x=m?2:1,S=t.split("."),b=S[S.length-1],w=n.apply(null,S);if(w){var k=w.prototype;if(!g&&o(k,"cause")&&delete k.cause,!r)return w;var E=n("Error"),O=e((function(t,e){var r=l(m?e:t,void 0),n=m?new w(t):new w;return void 0!==r&&i(n,"message",r),d&&i(n,"stack",f(n.stack,2)),this&&s(k,this)&&p(n,this,O),arguments.length>x&&h(n,arguments[x]),n}));if(O.prototype=k,"Error"!==b?a?a(O,E):c(O,E,{name:!0}):v&&y in w&&(u(O,w,y),u(O,w,"prepareStackTrace")),c(O,w),!g)try{k.name!==b&&i(k,"name",b),k.constructor=O}catch(t){}return O}}},6992:(t,e,r)=>{var n=r(5656),o=r(1223),i=r(7497),s=r(9909),a=r(3070).f,c=r(654),u=r(1913),p=r(9781),l="Array Iterator",h=s.set,f=s.getterFor(l);t.exports=c(Array,"Array",(function(t,e){h(this,{type:l,target:n(t),index:0,kind:e})}),(function(){var t=f(this),e=t.target,r=t.kind,n=t.index++;return!e||n>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==r?{value:n,done:!1}:"values"==r?{value:e[n],done:!1}:{value:[n,e[n]],done:!1}}),"values");var d=i.Arguments=i.Array;if(o("keys"),o("values"),o("entries"),!u&&p&&"values"!==d.name)try{a(d,"name",{value:"values"})}catch(t){}},1703:(t,e,r)=>{var n=r(2109),o=r(7854),i=r(2104),s=r(9191),a=o.WebAssembly,c=7!==Error("e",{cause:7}).cause,u=function(t,e){var r={};r[t]=s(t,e,c),n({global:!0,forced:c},r)},p=function(t,e){if(a&&a[t]){var r={};r[t]=s("WebAssembly."+t,e,c),n({target:"WebAssembly",stat:!0,forced:c},r)}};u("Error",(function(t){return function(e){return i(t,this,arguments)}})),u("EvalError",(function(t){return function(e){return i(t,this,arguments)}})),u("RangeError",(function(t){return function(e){return i(t,this,arguments)}})),u("ReferenceError",(function(t){return function(e){return i(t,this,arguments)}})),u("SyntaxError",(function(t){return function(e){return i(t,this,arguments)}})),u("TypeError",(function(t){return function(e){return i(t,this,arguments)}})),u("URIError",(function(t){return function(e){return i(t,this,arguments)}})),p("CompileError",(function(t){return function(e){return i(t,this,arguments)}})),p("LinkError",(function(t){return function(e){return i(t,this,arguments)}})),p("RuntimeError",(function(t){return function(e){return i(t,this,arguments)}}))},4916:(t,e,r)=>{var n=r(2109),o=r(2261);n({target:"RegExp",proto:!0,forced:/./.exec!==o},{exec:o})},3948:(t,e,r)=>{var n=r(7854),o=r(8324),i=r(8509),s=r(6992),a=r(8880),c=r(5112),u=c("iterator"),p=c("toStringTag"),l=s.values,h=function(t,e){if(t){if(t[u]!==l)try{a(t,u,l)}catch(e){t[u]=l}if(t[p]||a(t,p,e),o[e])for(var r in s)if(t[r]!==s[r])try{a(t,r,s[r])}catch(e){t[r]=s[r]}}};for(var f in o)h(n[f]&&n[f].prototype,f);h(i,"DOMTokenList")}},e={};function r(n){var o=e[n];if(void 0!==o)return o.exports;var i=e[n]={exports:{}};return t[n](i,i.exports,r),i.exports}r.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return r.d(e,{a:e}),e},r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var n={};return(()=>{r.r(n),r.d(n,{AudioExtension:()=>b,AudioProcessor:()=>x,Extension:()=>S,PromiseMutex:()=>O,Ticker:()=>k,VideoProcessor:()=>y,logger:()=>l,reporter:()=>d});var t=r(4341);function e(e,r,n){return r in e?t(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}r(1703),r(6992),r(3948);var o=r(3476),i=r.n(o);function s(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:7,e=arguments.length>1?arguments[1]:void 0;const r=Math.random().toString(16).substr(2,t).toLowerCase();return r.length===t?"".concat(e).concat(r):"".concat(e).concat(r)+s(t-r.length,"")}r(4916);const a=Date.now(),c={DEBUG:0,INFO:1,WARNING:2,ERROR:3,NONE:4};function u(){const t=new Date;return t.toTimeString().split(" ")[0]+":"+t.getMilliseconds()}const p=t=>{for(const e in c)if(Object.prototype.hasOwnProperty.call(c,e)&&c[e]===t)return e;return"DEFAULT"},l=new class{constructor(){e(this,"logLevel",c.DEBUG),e(this,"hookLog",void 0)}debug(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];const n=[c.DEBUG].concat(e);this.log.apply(this,n)}info(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];const n=[c.INFO].concat(e);this.log.apply(this,n)}warning(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];const n=[c.WARNING].concat(e);this.log.apply(this,n)}error(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];const n=[c.ERROR].concat(e);this.log.apply(this,n)}log(){for(var t,e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(Date.now()-a<100)return void setTimeout((()=>{this.log(...r)}),Date.now()-a);const o=Math.max(0,Math.min(4,r[0]));if(r[0]=u()+" Agora-Extension [".concat(p(o),"]:"),o<this.logLevel)return;const i=u()+" %cAgora-Extension [".concat(p(o),"]:");let s=[];switch(o){case c.DEBUG:s=[i,"color: #64B5F6;"].concat(r.slice(1)),console.log.apply(console,s);break;case c.INFO:s=[i,"color: #1E88E5; font-weight: bold;"].concat(r.slice(1)),console.log.apply(console,s);break;case c.WARNING:s=[i,"color: #FB8C00; font-weight: bold;"].concat(r.slice(1)),console.warn.apply(console,s);break;case c.ERROR:s=[i,"color: #B00020; font-weight: bold;"].concat(r.slice(1)),console.error.apply(console,s)}null===(t=this.hookLog)||void 0===t||t.call(this,o,s)}};function h(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function f(t){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?h(Object(n),!0).forEach((function(r){e(t,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}const d=new class{constructor(){e(this,"apiInvokeMsgQueue",[]),e(this,"hookApiInvoke",void 0)}reportApiInvoke(t){t.timeout=t.timeout||6e4,t.reportResult=void 0===t.reportResult||t.reportResult;const e=Date.now(),r=()=>({name:t.name,apiInvokeTime:e,options:t.options});let n=!1;var o;(o=t.timeout,new(i())((t=>{window.setTimeout(t,o)}))).then((()=>{n||(this.sendApiInvoke(f(f({},r()),{},{error:"API_INVOKE_TIMEOUT",success:!1})),l.debug("".concat(t.name," timeout")))}));const s=new Error("".concat(t.name,": this api invoke is end"));return{onSuccess:e=>{if(n)throw s;n=!0,this.sendApiInvoke(f(f({},r()),{},{success:!0},t.reportResult&&{result:e}))},onError:t=>{if(n)throw t;n=!0,this.sendApiInvoke(f(f({},r()),{},{success:!1,error:t.toString()}))}}}sendApiInvoke(t){this.hookApiInvoke?(this.hookApiInvoke([...this.apiInvokeMsgQueue,t]),this.apiInvokeMsgQueue=[]):this.apiInvokeMsgQueue.push(t)}};function v(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function g(t){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?v(Object(n),!0).forEach((function(r){e(t,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}class m extends class{constructor(){e(this,"_events",{}),e(this,"addListener",this.on)}getListeners(t){return this._events[t]?this._events[t].map((t=>t.listener)):[]}on(t,e){this._events[t]||(this._events[t]=[]);const r=this._events[t];-1===this._indexOfListener(r,e)&&r.push({listener:e,once:!1})}once(t,e){this._events[t]||(this._events[t]=[]);const r=this._events[t];-1===this._indexOfListener(r,e)&&r.push({listener:e,once:!0})}off(t,e){if(!this._events[t])return;const r=this._events[t],n=this._indexOfListener(r,e);-1!==n&&r.splice(n,1),0===this._events[t].length&&delete this._events[t]}removeAllListeners(t){t?delete this._events[t]:this._events={}}emit(t){this._events[t]||(this._events[t]=[]);const e=this._events[t].map((t=>t));for(var r=arguments.length,n=new Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];for(let r=0;r<e.length;r+=1){const o=e[r];o.once&&this.off(t,o.listener),o.listener.apply(this,n||[])}}_indexOfListener(t,e){let r=t.length;for(;r--;)if(t[r].listener===e)return r;return-1}emitAsPromise(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return 0===this.getListeners(t).length?i().reject(new Error("No promise event handler.")):new(i())(((e,n)=>{this.emit(t,...r,e,n)}))}emitAsPromiseNoResponse(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return 0===this.getListeners(t).length?i().resolve():new(i())(((e,n)=>{this.emit(t,...r,e,n)}))}}{get enabled(){return this._enabled}output(t,e){if(this.outputTrack===t)return;const r=d.reportApiInvoke({name:"".concat(this.name,".output"),options:{track:null==t?void 0:t.toString()}});this.outputTrack=t,this.destination&&this.destination.updateInput({track:t,context:e}),r.onSuccess()}constructor(){super(),e(this,"inputTrack",void 0),e(this,"outputTrack",void 0),e(this,"_enabled",!0),e(this,"_source",void 0),e(this,"ID",s(6,"")),e(this,"destination",void 0),e(this,"context",void 0),e(this,"name",void 0)}enable(){if(this._enabled)return;const t=d.reportApiInvoke({name:"".concat(this.name,".enable"),options:!0});l.info("".concat(this.name,"-").concat(this.ID," enabled")),this._enabled=!0;try{var e;const r=null===(e=this.onEnableChange)||void 0===e?void 0:e.call(this,this._enabled);if(r instanceof i())return r.then((()=>{t.onSuccess()})).catch((e=>{throw t.onError(e),e}));t.onSuccess()}catch(e){throw t.onError(e),e}}disable(){if(!this._enabled)return;const t=d.reportApiInvoke({name:"".concat(this.name,".enable"),options:!1});l.info("".concat(this.name,"-").concat(this.ID," disabled")),this._enabled=!1;try{var e;const r=null===(e=this.onEnableChange)||void 0===e?void 0:e.call(this,this._enabled);if(r instanceof i())return r.then((()=>{t.onSuccess()})).catch((e=>{throw t.onError(e),e}));t.onSuccess()}catch(e){throw t.onError(e),e}}}class y extends m{get kind(){return"video"}pipe(t){const e=d.reportApiInvoke({name:"".concat(this.name,".pipe"),options:{processor:t.name}});if(this.destination===t)return e.onSuccess(),t;if(t._source){const r=new Error("Processor ".concat(t.name," already being piped, please call ").concat(t._source.name,".unpipe() beforehand."));throw e.onError(r),r}return this.destination&&this.unpipe(),this.destination=t,t._source=this,this.context&&this.destination.updateInput({track:this.outputTrack,context:this.context}),e.onSuccess(),t}unpipe(){if(!this.destination)return;const t=d.reportApiInvoke({name:"".concat(this.name,".unpipe"),options:{processor:this.destination.name}});l.info("unpiping processor ".concat(this.destination.name,"-").concat(this.destination.ID));try{const e=this.destination;this.destination._source=void 0,this.destination=void 0,e.reset()}finally{t.onSuccess()}}updateInput(t){var e,r;t.context!==this.context&&(this.context=t.context,null===(e=this.onPiped)||void 0===e||e.call(this,this.context),this.destination&&this.destination.updateInput({track:this.outputTrack,context:t.context})),t.track&&this.inputTrack!==t.track&&(this.inputTrack=t.track,null===(r=this.onTrack)||void 0===r||r.call(this,t.track,this.context))}reset(){var t;this.context&&this.context.requestRevertConstraints(this),this.inputTrack=void 0,this.context=void 0,null===(t=this.onUnpiped)||void 0===t||t.call(this),this.destination&&this.destination.reset()}}class x extends m{constructor(){super(...arguments),e(this,"inputNode",void 0),e(this,"outputNode",void 0),e(this,"destination",void 0),e(this,"context",void 0)}get kind(){return"audio"}pipe(t){const e=d.reportApiInvoke({name:"".concat(this.name,".pipe"),options:{processor:t.name}});if(this.destination===t)return e.onSuccess(),t;if(t._source){const r=new Error("Processor ".concat(t.name," already being piped, please call ").concat(t._source.name,".unpipe() beforehand."));throw e.onError(r),r}return this.destination&&this.unpipe(),this.destination=t,t._source=this,this.context&&this.destination.updateInput({track:this.outputTrack,node:this.outputNode,context:this.context}),e.onSuccess(),t}unpipe(){if(!this.destination)return;l.info("unpiping processor ".concat(this.destination.name,"-").concat(this.destination.ID));const t=d.reportApiInvoke({name:"".concat(this.name,".unpipe"),options:{processor:this.destination.name}});try{var e;let r=this.destination;null===(e=this.outputNode)||void 0===e||e.disconnect(),this.destination._source=void 0,this.destination=void 0,r.reset()}finally{t.onSuccess()}}output(t,e){if(t instanceof MediaStreamTrack)super.output(t,e);else if(t instanceof AudioNode){if(this.outputNode===t)return;const r=d.reportApiInvoke({name:"".concat(this.name,".output"),options:g(g({},t instanceof MediaStreamTrack&&{track:t.toString()}),t instanceof AudioNode&&{audioNode:t.toString()})});this.outputNode=t,this.destination&&this.destination.updateInput({node:t,context:e}),r.onSuccess()}}updateInput(t){var e,r,n;t.context!==this.context&&(this.context=t.context,null===(e=this.onPiped)||void 0===e||e.call(this,this.context),this.destination&&this.destination.updateInput({track:this.outputTrack,node:this.outputNode,context:t.context})),t.track&&this.inputTrack!==t.track&&(this.inputTrack=t.track,null===(r=this.onTrack)||void 0===r||r.call(this,t.track,this.context)),t.node&&this.inputNode!==t.node&&(this.inputNode=t.node,null===(n=this.onNode)||void 0===n||n.call(this,t.node,this.context))}reset(){var t;this.context&&this.context.requestRevertConstraints(this),this.inputTrack=void 0,this.inputNode=void 0,null===(t=this.onUnpiped)||void 0===t||t.call(this,this.context),this.context=void 0,this.destination&&this.destination.reset()}}class S{constructor(){e(this,"__registered__",!1),e(this,"logger",l),e(this,"reporter",d),e(this,"parameters",{})}createProcessor(){if(!this.__registered__)throw new Error("Extension not registered yet!");return this._createProcessor()}}class b extends S{}let w;class k{get running(){return this._running}constructor(t,r){if(e(this,"type",void 0),e(this,"interval",void 0),e(this,"fn",void 0),e(this,"_running",!1),e(this,"_osc",void 0),!t)throw new Error;if(r<=0)throw new Error;this.type=t,this.interval=r}add(t){this.fn=t}remove(){this.fn=void 0}start(){if(!this._running)switch(this._running=!0,this.type){case"Timer":{const t=()=>{setTimeout((()=>{this.fn&&this.fn(),this._running&&t()}),this.interval)};t();break}case"RAF":{const t=e=>{requestAnimationFrame((r=>{r-e<this.interval?this._running&&t(e):(this.fn&&this.fn(),this._running&&t(r))}))};t(performance.now());break}case"Oscillator":{w||(w=new AudioContext);const t=w.createGain();let e;t.gain.value=0,t.connect(w.destination);const r=()=>{this.fn&&this.fn(),e&&e.disconnect(),e=w.createOscillator(),this._osc=e,e.connect(t),this._running&&(e.onended=r,e.start(0),e.stop(w.currentTime+this.interval/1e3))};r();break}}}stop(){this._running=!1,this._osc&&(this._osc.onended=null,this._osc=void 0)}}let E=1;class O{constructor(t){e(this,"lockingPromise",i().resolve()),e(this,"locks",0),e(this,"name",""),e(this,"lockId",void 0),this.lockId=E++,t&&(this.name=t)}get isLocked(){return this.locks>0}lock(t){let e;this.locks+=1;const r=new(i())((t=>{e=()=>{this.locks-=1,t()}})),n=this.lockingPromise.then((()=>e));return this.lockingPromise=this.lockingPromise.then((()=>r)),n}}})(),n})(),r.exports=t(),function(t){t.SUCCESS="success",t.EXTENSION_NOT_REG="extension not registered",t.PROCESSOR_NOT_CREATE="processor not created",t.PROCESSOR_NOT_ENABLED="processor not enabled",t.INVALID_PARMS="invalid Parameters",t.UNKNOWN_ERROR="unknown error"}(e||(e={}));const o=2,i=4,s=8,a=16,c=32,u=48,p=o|s|c,l={},h={SPATIALIZER_PARAMETERS:{}};class f{constructor(){this.maxSpeakerHearRange=50,this.maxSpeakerCount=10,this.distanceUnit=1,this.paramUpdated=!1,this.selfPosition=[0,0,0],this.selfForward=[0,0,0],this.selfRight=[0,0,0],this.selfUp=[0,0,0],this.remoteUserPositions=new Map,this.remoteUserSpatialParams=new Map,this.zoneSet=new Array,this.selfZoneId=-9999,this.selfUserId="myself9876",this.uidZoneTable=new Map}static GetInstance(){return f.Instance||(f.Instance=new f),f.Instance}setMaxAudioRecvCount(t){this.maxSpeakerCount=t,this.paramUpdated=!0}setAudioRecvRange(t){this.maxSpeakerHearRange=t,this.paramUpdated=!0}setDistanceUnit(t){this.distanceUnit=t,this.paramUpdated=!0}reset(){this.maxSpeakerHearRange=50,this.maxSpeakerCount=10,this.distanceUnit=1,this.paramUpdated=!1,this.selfPosition=[0,0,0],this.selfForward=[0,0,0],this.selfRight=[0,0,0],this.selfUp=[0,0,0],this.remoteUserPositions.clear(),this.remoteUserSpatialParams.clear(),this.zoneSet=[],this.uidZoneTable.clear(),this.selfZoneId=-9999}updateSelfPosition(t,e,n,o){return Math.pow(e[0],2)+Math.pow(e[1],2)+Math.pow(e[2],2)<.01?(r.exports.logger.info("updateSelfPosition foward vector change < 0.01, skip compute and return old value."),this.remoteUserSpatialParams):Math.pow(n[0],2)+Math.pow(n[1],2)+Math.pow(n[2],2)<.01?(r.exports.logger.info("updateSelfPosition right vector change < 0.01, skip compute and return old value."),this.remoteUserSpatialParams):Math.pow(o[0],2)+Math.pow(o[1],2)+Math.pow(o[2],2)<.01?(r.exports.logger.info("updateSelfPosition up vector change < 0.01, skip compute and return old value."),this.remoteUserSpatialParams):(this.selfPosition=t,this.selfForward=e,this.selfRight=n,this.selfUp=o,this.selfZoneId=this.getZoneId(t,this.selfUserId),this.paramUpdated=!0,this.getComputeResult())}updateRemotePosition(t,e){return this.remoteUserPositions.set(t,e),this.paramUpdated=!0,this.getComputeResult().get(t)}removeRemotePosition(t){this.remoteUserPositions.delete(t),this.remoteUserSpatialParams.delete(t),this.paramUpdated=!0}clearRemotePositions(){this.remoteUserPositions.clear(),this.remoteUserSpatialParams.clear(),this.paramUpdated=!0}setZones(t){return this.isZoneSetValid(t),this.zoneSet=[],this.zoneSet=t,r.exports.logger.debug(`update zoneSet to: ${JSON.stringify(this.zoneSet)}`),this.paramUpdated=!0,this.getComputeResult()}isInSameZoneWithSelf(t){return this.uidZoneTable.get(t)===this.uidZoneTable.get(this.selfUserId)}getComputeResult(){return this.paramUpdated&&this.updateResult(),this.remoteUserSpatialParams}updateResult(){const t=new Map,e=[0,0,0];let n,o;const i=[...this.remoteUserPositions];for(let s=0;s<i.length;s++){if(t.size>=this.maxSpeakerCount){r.exports.logger.debug(`res.size >= maxSpeakerCount(${this.maxSpeakerCount}), compute finish`);break}const a=i[s];if(r.exports.logger.info(`${a[0]} convert position and vectors to spatial params`),n=a[1].position,o=a[1].forward,e[0]=n[0]-this.selfPosition[0],e[1]=n[1]-this.selfPosition[1],e[2]=n[2]-this.selfPosition[2],Math.pow(e[0],2)+Math.pow(e[1],2)+Math.pow(e[2],2)<=.01){t.set(a[0],{azimuth:0,elevation:0,distance:.5,orientation:180,attenuation:.5}),r.exports.logger.debug("distance <= 0.01, fill with {azimuth: 0, elevation: 0, distance: 0.5, orientation: 180, attenuation: 0.5.}");continue}const c={azimuth:this.computeAzimuth(e,this.selfUp,this.selfForward,this.selfRight),elevation:this.computeElevation(e,this.selfUp),distance:this.computeDistance(e,this.distanceUnit),orientation:this.computeOrientation(o,e),attenuation:this.computeAttenuation(this.getZoneId(n,[...this.remoteUserPositions.keys()].find((t=>this.remoteUserPositions.get(t)===a[1]))))};Math.pow(o[0],2)+Math.pow(o[1],2)+Math.pow(o[2],2)<.001&&(r.exports.logger.debug("Square(rf) < 0.001, set orientation to 180"),c.orientation=180),Math.pow(e[0],2)+Math.pow(e[1],2)+Math.pow(e[2],2)>Math.pow(this.maxSpeakerHearRange,2)&&(r.exports.logger.debug(`distance > maxSpeakerHearRange(${this.maxSpeakerHearRange}), set distance to ${this.maxSpeakerHearRange}`),c.distance=this.maxSpeakerHearRange),t.set(a[0],c)}this.remoteUserSpatialParams.clear(),this.remoteUserSpatialParams=t,this.paramUpdated=!1}vectorDist(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2))}vectorCos(t,e){return(t[0]*e[0]+t[1]*e[1]+t[2]*e[2])/(this.vectorDist(t)*this.vectorDist(e))}VectorDataLength(t){return this.vectorDist(t)}VectorDotProduct(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}computeElevation(t,e){const r=this.vectorCos(t,e);return 90-180*Math.acos(r)/Math.PI}computeAzimuth(t,e,r,n){const o=[t[1]*e[2]-e[1]*t[2],t[2]*e[0]-e[2]*t[0],t[0]*e[1]-e[0]*t[1]];if(Math.pow(o[0],2)+Math.pow(o[1],2)+Math.pow(o[2],2)<1e-4)return 0;const i=this.vectorCos(r,o);let s=180*Math.acos(i)/Math.PI;this.vectorCos(n,o)>0&&(s=-s);let a=0;return a=(r[1]*e[2]-e[1]*r[2])*n[0]<0||(r[2]*e[0]-e[2]*r[0])*n[1]<0||(r[0]*e[1]-e[0]*r[1])*n[2]<0?s+360-90:s+360+90,a>360&&(a-=360),a}computeDistance(t,e){let r=this.vectorDist(t);return r*=e,r<.5&&(r=.5),r}computeOrientation(t,e){const r=this.vectorCos(t,e);return 180*Math.acos(r)/Math.PI}computeAttenuation(t){var e,n;let o=-2;return this.selfZoneId!==t&&(-9999===this.selfZoneId?o=null===(e=this.zoneSet.find((e=>e.id===t)))||void 0===e?void 0:e.attenuation:-9999===t?o=null===(n=this.zoneSet.find((t=>t.id===this.selfZoneId)))||void 0===n?void 0:n.attenuation:-9999!==this.selfZoneId&&-9999!==t&&(o=-1)),r.exports.logger.debug(`The computed attenuation to id (${t}) is ${o}`),o}getZoneId(t,e){for(let n=0;n<this.zoneSet.length;n++){const o=this.VectorDataLength(this.zoneSet[n].forward),i=[this.zoneSet[n].forward[0]/o,this.zoneSet[n].forward[1]/o,this.zoneSet[n].forward[2]/o],s=this.VectorDataLength(this.zoneSet[n].right),a=[this.zoneSet[n].right[0]/s,this.zoneSet[n].right[1]/s,this.zoneSet[n].right[2]/s],c=this.VectorDataLength(this.zoneSet[n].up),u=[this.zoneSet[n].up[0]/c,this.zoneSet[n].up[1]/c,this.zoneSet[n].up[2]/c],p=[t[0]-this.zoneSet[n].position[0],t[1]-this.zoneSet[n].position[1],t[2]-this.zoneSet[n].position[2]],l=this.VectorDotProduct(p,u),h=this.VectorDotProduct(p,a),f=this.VectorDotProduct(p,i);if(!(Math.abs(l)>=this.zoneSet[n].upLength/2||Math.abs(h)>=this.zoneSet[n].rightLength/2||Math.abs(f)>=this.zoneSet[n].forwardLength/2))return r.exports.logger.debug(`position [${t}] locate in zone with id = ${this.zoneSet[n].id}`),this.uidZoneTable.set(e,this.zoneSet[n].id),this.zoneSet[n].id}return r.exports.logger.debug(`position [${t}] locate in world (doesn't belong to any zone)`),this.uidZoneTable.set(e,-9999),-9999}isZoneSetValid(t){if(!this.isNonOverlapAreaInZoneSet(t))throw new Error("There are overlap areas in audio zone set");if(!this.isUniqueAttenuationForSameId(t))throw new Error("attenuation value must be unique for zones with same id")}isNonOverlapAreaInZoneSet(t){const e=e=>({left:t[e].position[0]-t[e].forwardLength/2,right:t[e].position[0]+t[e].forwardLength/2,bottom:t[e].position[1]-t[e].rightLength/2,top:t[e].position[1]+t[e].rightLength/2,front:t[e].position[2]-t[e].upLength/2,back:t[e].position[2]+t[e].upLength/2});for(let i=0;i<t.length;i++)for(let s=i+1;s<t.length-i;s++)if(n=e(i),o=e(s),!(n.left>=o.right||n.right<=o.left||n.bottom>=o.top||n.top<=o.bottom||n.front>=o.back||n.back<=o.front))return r.exports.logger.debug(`Overlap area exist in ${t[i]} and ${t[s]}`),!1;var n,o;return!0}isUniqueAttenuationForSameId(t){for(let e=0;e<t.length;e++)for(let n=e+1;n<t.length-e;n++)if(t[e].id===t[n].id&&t[e].attenuation!==t[n].attenuation)return r.exports.logger.debug(`${t[e]} and ${t[n]} have same id but different attenuation`),!1;return!0}}function d(t=7,e){const r=Math.random().toString(16).substr(2,t).toLowerCase();return r.length===t?`${e}${r}`:`${e}${r}`+d(t-r.length,"")}f.Instance=null;const v={files:{js:"/spatial-audio-worker.js",wasm:"/audio_spatializer.wasm",simdWasm:"/audio_spatializer.wasm"},path:".",setPath:function(t){"/"===t[t.length-1]&&(t=t.substring(0,t.length-1)),this.path=t},getPath:function(){return{js:this.path+this.files.js,wasm:this.path+this.files.wasm,simdWasm:this.path+this.files.simdWasm}}};class g{constructor(){this.workerId=d(6,"worker-"),this._worker||(this._worker=new Worker(v.getPath().js),this._worker.onmessage=this.onMessage.bind(this))}static GetInstance(){return g.Instance||(g.Instance=new g),g.Instance}init(t=""){return n(this,void 0,void 0,(function*(){this._worker&&(yield new Promise(((e,r)=>{var n,o;const i=t=>{var r;"onInit"==t.data.type&&(null===(r=this._worker)||void 0===r||r.removeEventListener("message",i),e(null))};null===(n=this._worker)||void 0===n||n.addEventListener("message",i),null===(o=this._worker)||void 0===o||o.postMessage({type:"Init",wasmBinaryFile:t})})))}))}process(t,e){return n(this,void 0,void 0,(function*(){const r=new MediaStreamTrackProcessor({track:t}).readable,n=new MediaStreamTrackGenerator({kind:"audio"}),o=n.writable,i=new MediaStream([n]).getAudioTracks()[0];return yield this.start(r,o,e),i}))}release(){this._worker&&this._worker.terminate()}updateSpatialAzimuth(t,e){return n(this,void 0,void 0,(function*(){this._worker&&(yield new Promise(((r,n)=>{var o,i;const s=t=>{var e;"onUpdateSpatialAzimuth"==t.data.type&&(null===(e=this._worker)||void 0===e||e.removeEventListener("message",s),r(null))};null===(o=this._worker)||void 0===o||o.addEventListener("message",s),null===(i=this._worker)||void 0===i||i.postMessage({type:"UpdateSpatialAzimuth",azimuth:t,id:e})})))}))}updateSpatialElevation(t,e){return n(this,void 0,void 0,(function*(){this._worker&&(yield new Promise(((r,n)=>{var o,i;const s=t=>{var e;"onUpdateSpatialElevation"==t.data.type&&(null===(e=this._worker)||void 0===e||e.removeEventListener("message",s),r(null))};null===(o=this._worker)||void 0===o||o.addEventListener("message",s),null===(i=this._worker)||void 0===i||i.postMessage({type:"UpdateSpatialElevation",elevation:t,id:e})})))}))}updateSpatialOrientation(t,e){return n(this,void 0,void 0,(function*(){this._worker&&(yield new Promise(((r,n)=>{var o,i;const s=t=>{var e;"onUpdateSpatialOrientation"==t.data.type&&(null===(e=this._worker)||void 0===e||e.removeEventListener("message",s),r(null))};null===(o=this._worker)||void 0===o||o.addEventListener("message",s),null===(i=this._worker)||void 0===i||i.postMessage({type:"UpdateSpatialOrientation",orientation:t,id:e})})))}))}updateSpatialDistance(t,e){return n(this,void 0,void 0,(function*(){this._worker&&(yield new Promise(((r,n)=>{var o,i;const s=t=>{var e;"onUpdateSpatialDistance"==t.data.type&&(null===(e=this._worker)||void 0===e||e.removeEventListener("message",s),r(null))};null===(o=this._worker)||void 0===o||o.addEventListener("message",s),null===(i=this._worker)||void 0===i||i.postMessage({type:"UpdateSpatialDistance",distance:t,id:e})})))}))}updateSpatialBlur(t,e){return n(this,void 0,void 0,(function*(){this._worker&&(yield new Promise(((r,n)=>{var o,i;const s=t=>{var e;"onUpdateSpatialBlur"==t.data.type&&(null===(e=this._worker)||void 0===e||e.removeEventListener("message",s),r(null))};null===(o=this._worker)||void 0===o||o.addEventListener("message",s),null===(i=this._worker)||void 0===i||i.postMessage({type:"UpdateSpatialBlur",enable:t,id:e})})))}))}updateSpatialAirAbsorb(t,e){return n(this,void 0,void 0,(function*(){this._worker&&(yield new Promise(((r,n)=>{var o,i;const s=t=>{var e;"onUpdateSpatialAirAbsorb"==t.data.type&&(null===(e=this._worker)||void 0===e||e.removeEventListener("message",s),r(null))};null===(o=this._worker)||void 0===o||o.addEventListener("message",s),null===(i=this._worker)||void 0===i||i.postMessage({type:"UpdateSpatialAirAbsorb",enable:t,id:e})})))}))}updateSpatialAttenuation(t,e){return n(this,void 0,void 0,(function*(){this._worker&&(yield new Promise(((r,n)=>{var o,i;const s=t=>{var e;"onUpdateSpatialAttenuation"==t.data.type&&(null===(e=this._worker)||void 0===e||e.removeEventListener("message",s),r(null))};null===(o=this._worker)||void 0===o||o.addEventListener("message",s),null===(i=this._worker)||void 0===i||i.postMessage({type:"UpdateSpatialAttenuation",factor:t,id:e})})))}))}setMuted(t,e){return n(this,void 0,void 0,(function*(){this._worker&&(yield new Promise(((r,n)=>{var o,i;const s=e=>{var n;(e.data.type==t||"onUnMuted")&&(null===(n=this._worker)||void 0===n||n.removeEventListener("message",s),r(null))};null===(o=this._worker)||void 0===o||o.addEventListener("message",s),null===(i=this._worker)||void 0===i||i.postMessage({type:"Muted",muted:t,id:e})})))}))}start(t,e,r){return n(this,void 0,void 0,(function*(){this._worker&&(yield new Promise(((n,o)=>{var i,s,a,c,u;const p=t=>{var e;"onStart"==t.data.type&&(null===(e=this._worker)||void 0===e||e.removeEventListener("message",p),n(null))};null===(i=this._worker)||void 0===i||i.addEventListener("message",p);const h=null===(c=null===(a=null===(s=l.parameters)||void 0===s?void 0:s.SPATIALIZER_PARAMETERS)||void 0===a?void 0:a.compressor)||void 0===c||c;null===(u=this._worker)||void 0===u||u.postMessage({type:"Start",readableStream:t,writableStream:e,compressor:h,id:r},[t,e])})))}))}stop(t){return n(this,void 0,void 0,(function*(){this._worker&&(yield new Promise(((e,r)=>{var n,o;const i=t=>{var r;"onStop"==t.data.type&&(null===(r=this._worker)||void 0===r||r.removeEventListener("message",i),e(null))};null===(n=this._worker)||void 0===n||n.addEventListener("message",i),null===(o=this._worker)||void 0===o||o.postMessage({type:"Stop",id:t})})))}))}onMessage(t){"onResize"===t.data.type||"onOverload"===t.data.type||t.data.type}}g.Instance=null;class m extends r.exports.AudioProcessor{constructor(){super(),this.name="SpatialAudioProcessor",this.processed_track=null,this.disable_by_remove_or_clear_position=!1,this.stats={spatialParam:p},this.attenuation_force_set=!1,this.source_attenuation_factor=.5,this.position_info={position:[0,0,0],forward:[0,0,0]};const t=r.exports.reporter.reportApiInvoke({name:`${this.name}.constructor`,options:[this.ID]});try{g.GetInstance().init(),this.updateRemotePosition(this.position_info)}catch(e){r.exports.logger.error(`${this.name}.constructor invoke error: ${e}`),t.onError(e)}t.onSuccess()}get id(){return this.ID}updateLowLevelSpatialParams(t){var e;g.GetInstance().updateSpatialAzimuth(t.azimuth,this.ID),g.GetInstance().updateSpatialElevation(t.elevation,this.ID),g.GetInstance().updateSpatialDistance(t.distance,this.ID),g.GetInstance().updateSpatialOrientation(t.orientation,this.ID),this.attenuation_force_set?r.exports.logger.info(`${this.ID} call updateSpatialAttenuation with forceSet = true, so ignore attenuation computed by audio zone.`):-1===t.attenuation?(g.GetInstance().setMuted(!0,this.ID),r.exports.logger.debug("listener and speaker locate in isolated zones separately, set muted")):(g.GetInstance().setMuted(!1,this.ID),-2===t.attenuation?(r.exports.logger.debug("listener and speaker locate in same zone, use speaker attenuation"),g.GetInstance().updateSpatialAttenuation(this.source_attenuation_factor,this.ID)):g.GetInstance().updateSpatialAttenuation(null!==(e=t.attenuation)&&void 0!==e?e:this.source_attenuation_factor,this.ID))}updateSpatialAzimuth(t=0){const n=r.exports.reporter.reportApiInvoke({name:`${this.name}.updateSpatialAzimuth`,options:[this.ID,t]});if(t<0||t>360){const o=`Invalid azimuth value: ${t}, valid range is [0, 360]`;return r.exports.logger.error(o),n.onError(Error(o)),e.INVALID_PARMS}try{g.GetInstance().updateSpatialAzimuth(t,this.ID)}catch(t){return r.exports.logger.error(`${this.name}.updateSpatialAzimuth invoke error: ${t}`),n.onError(t),e.UNKNOWN_ERROR}return n.onSuccess(),e.SUCCESS}updateSpatialElevation(t=0){const n=r.exports.reporter.reportApiInvoke({name:`${this.name}.updateSpatialElevation`,options:[this.ID,t]});if(t<-90||t>90){const o=`Invalid elevation value: ${t}, valid range is [-90, 90]`;return r.exports.logger.error(o),n.onError(Error(o)),e.INVALID_PARMS}try{g.GetInstance().updateSpatialElevation(t,this.ID)}catch(t){return r.exports.logger.error(`${this.name}.updateSpatialElevation invoke error: ${t}`),n.onError(t),e.UNKNOWN_ERROR}return n.onSuccess(),e.SUCCESS}updateSpatialOrientation(t=180){const n=r.exports.reporter.reportApiInvoke({name:`${this.name}.updateSpatialOrientation`,options:[this.ID,t]});if(t<0||t>180){const o=`Invalid orientation value: ${t}, valid range is [0, 180]`;return r.exports.logger.error(o),n.onError(Error(o)),e.INVALID_PARMS}try{g.GetInstance().updateSpatialOrientation(t,this.ID)}catch(t){return r.exports.logger.error(`${this.name}.updateSpatialOrientation invoke error: ${t}`),n.onError(t),e.UNKNOWN_ERROR}return n.onSuccess(),e.SUCCESS}updateSpatialDistance(t=1){const n=r.exports.reporter.reportApiInvoke({name:`${this.name}.updateSpatialDistance`,options:[this.ID,t]});if(t<1||t>50){const o=`Invalid distance value: ${t}, valid range is [1, 50]`;return r.exports.logger.error(o),n.onError(Error(o)),e.INVALID_PARMS}try{g.GetInstance().updateSpatialDistance(t,this.ID)}catch(t){return r.exports.logger.error(`${this.name}.updateSpatialDistance invoke error: ${t}`),n.onError(t),e.UNKNOWN_ERROR}return n.onSuccess(),e.SUCCESS}updateSpatialAirAbsorb(t){const e=r.exports.reporter.reportApiInvoke({name:`${this.name}.updateSpatialAirAbsorb`,options:[this.ID,t]});t?this.stats.spatialParam|=s:this.stats.spatialParam&=~s;try{g.GetInstance().updateSpatialAirAbsorb(t,this.ID)}catch(t){r.exports.logger.error(`${this.name}.updateSpatialAirAbsorb invoke error: ${t}`),e.onError(t)}e.onSuccess()}updateSpatialAttenuation(t=.5,n=!1){const o=r.exports.reporter.reportApiInvoke({name:`${this.name}.updateSpatialAttenuation`,options:[this.ID,t,n]});if(t<0||t>1){const n=`Invalid factor value: ${t}, valid range is [0, 1]`;return r.exports.logger.error(n),o.onError(Error(n)),e.INVALID_PARMS}if(this.stats.spatialParam&=~a,this.stats.spatialParam&=~c,t>0&&t<.5?this.stats.spatialParam|=a:.5===t?this.stats.spatialParam|=c:t>.5&&t<=1&&(this.stats.spatialParam|=u),this.source_attenuation_factor=t,this.attenuation_force_set=n,this.attenuation_force_set||f.GetInstance().isInSameZoneWithSelf(this.ID))try{g.GetInstance().updateSpatialAttenuation(this.source_attenuation_factor,this.ID)}catch(t){return r.exports.logger.error(`${this.name}.updateSpatialAttenuation invoke error: ${t}`),o.onError(t),e.UNKNOWN_ERROR}else r.exports.logger.info(`${this.ID} call updateSpatialAttenuation with forceSet = false, so use attenuation computed by audio zone.`),this.updateRemotePosition(this.position_info);return o.onSuccess(),e.SUCCESS}updateSpatialBlur(t){const e=r.exports.reporter.reportApiInvoke({name:`${this.name}.updateSpatialBlur`,options:[this.ID,t]});t?this.stats.spatialParam|=i:this.stats.spatialParam&=~i;try{g.GetInstance().updateSpatialBlur(t,this.ID)}catch(t){r.exports.logger.error(`${this.name}.updateSpatialBlur invoke error: ${t}`),e.onError(t)}e.onSuccess()}updatePlayerPositionInfo(t){const n=r.exports.reporter.reportApiInvoke({name:`${this.name}.updatePlayerPositionInfo`,options:[this.ID,t]});try{!this.enabled&&this.disable_by_remove_or_clear_position&&this.enable(),this.updateLowLevelSpatialParams(f.GetInstance().updateRemotePosition(this.ID,t)),this.position_info=t}catch(t){return r.exports.logger.error(`${this.name}.updatePlayerPositionInfo invoke error: ${t}`),n.onError(t),e.UNKNOWN_ERROR}return n.onSuccess(),e.SUCCESS}updateRemotePosition(t){const n=r.exports.reporter.reportApiInvoke({name:`${this.name}.updateRemotePosition`,options:[this.ID,t]});try{!this.enabled&&this.disable_by_remove_or_clear_position&&this.enable(),this.updateLowLevelSpatialParams(f.GetInstance().updateRemotePosition(this.ID,t)),this.position_info=t}catch(t){return r.exports.logger.error(`${this.name}.updateRemotePosition invoke error: ${t}`),n.onError(t),e.UNKNOWN_ERROR}return n.onSuccess(),e.SUCCESS}removeRemotePosition(){const t=r.exports.reporter.reportApiInvoke({name:`${this.name}.removeRemotePosition`,options:[this.ID]});try{f.GetInstance().removeRemotePosition(this.ID),this.disable_by_remove_or_clear_position=!0,this.disable(),this.position_info={position:[0,0,0],forward:[0,0,0]}}catch(n){return r.exports.logger.error(`${this.name}.removeRemotePosition invoke error: ${n}`),t.onError(n),e.UNKNOWN_ERROR}return t.onSuccess(),e.SUCCESS}onPiped(t){if(r.exports.logger.info(`${this.ID} onPiped fired.`),w.checkCompatibility()){if(t.registerStats(this,"spatial_audio_stats",(()=>this.stats)),"function"!=typeof t.getDirection)throw new Error("does not support sdk <4.15.0");const e="spatialAudioV3",r=1;"remote"===t.getDirection()&&t.registerUsage(this,(()=>{const t=!0===this.enabled?2:1;return{id:e,level:r,value:t}}))}}onUnpiped(t){r.exports.logger.info(`${this.ID} onUnpiped fired.`),w.checkCompatibility()&&t&&(t.unregisterStats(this,"spatial_audio_stats"),"remote"===t.getDirection()&&t.unregisterUsage(this))}onTrack(t,e){var o;return n(this,void 0,void 0,(function*(){r.exports.logger.info(`${this.ID} onTrack fired.`),null!==(o=this.processed_track)&&void 0!==o||(this.processed_track=yield this.process(t,this.ID)),this.onEnableChange(this.enabled)}))}onNode(t,e){r.exports.logger.info(`${this.ID} onNode fired.`)}onEnableChange(t){var e,n;r.exports.logger.info(`${this.ID} onEnableChange(${t?"true":"false"}) fired.`),this.context&&(!1===t||!1===(null===(n=null===(e=l.parameters)||void 0===e?void 0:e.SPATIALIZER_PARAMETERS)||void 0===n?void 0:n.enable)?(this.stats.spatialParam&=~o,this.inputTrack&&this.output(this.inputTrack,this.context)):(this.stats.spatialParam|=o,this.processed_track&&this.output(this.processed_track,this.context)))}process(t,e){return g.GetInstance().process(t,e)}}function y(){return(async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,5,1,96,0,1,123,3,2,1,0,10,10,1,8,0,65,0,253,15,253,98,11])))().then((t=>(r.exports.logger.info("spatializer [wasm-fetcher] simd supported:",t),t?v.getPath().simdWasm:v.getPath().wasm))).then((t=>fetch(t))).then((t=>{if(r.exports.logger.info(`spatializer [wasm-fetcher] wasm loaded, ${t.status}`),!t.ok)throw Error(`fetch wasm failed, status: ${t.status}`);return t})).then((t=>t.arrayBuffer()))}const x=function(){let t;return()=>(t||(t=y()),t)}();let S=!1;const b=[];class w extends r.exports.AudioExtension{constructor(t){var e;super(),this.BUILD="v1.0.0-beta1-0-g6537836(11/10/2022, 5:34:17 PM)",this.VERSION="1.0.0-beta1",this.name="SpatialAudioExtension",this.parameters=h;const n=r.exports.reporter.reportApiInvoke({name:`${this.name}.constructor`,options:[t]});if(S){const t="Dulplicate construct agora-extension-spatial-audio";throw n.onError(Error(t)),Error(t)}v.setPath(null!==(e=null==t?void 0:t.assetsPath)&&void 0!==e?e:"./"),x(),S=!0,l.parameters=this.parameters,r.exports.logger.info(`create SpatialAudioExtension ${this.BUILD} with assetsPath ${JSON.stringify(t)} and parameters ${JSON.stringify(l.parameters)}`),n.onSuccess()}_createProcessor(){const t=new m;return b.push(t),t}updateSelfPosition(t,n,o,i){const s=r.exports.reporter.reportApiInvoke({name:`${this.name}.updateSelfPosition`,options:[t,n,o,i]});try{const e=f.GetInstance().updateSelfPosition(t,n,o,i);b.forEach((t=>{r.exports.logger.info(`updateSelfPosition called, compute low level spatial params of user(${t.ID}).`);const n=e.get(t.ID);n&&t.updateLowLevelSpatialParams(n)}))}catch(t){return r.exports.logger.error(`updateSelfPosition invoke error: ${t}`),s.onError(t),e.UNKNOWN_ERROR}return s.onSuccess(),e.SUCCESS}clearRemotePositions(){r.exports.logger.info("clearRemotePositions invoked, remove spatial effect of all remoteUsers and localPlayers but keep unmuted.");const t=r.exports.reporter.reportApiInvoke({name:`${this.name}.clearRemotePositions`,options:[]});try{f.GetInstance().clearRemotePositions(),b.forEach((t=>t.removeRemotePosition()))}catch(n){return r.exports.logger.error(`clearRemotePositions invoke error: ${n}`),t.onError(n),e.UNKNOWN_ERROR}return t.onSuccess(),e.SUCCESS}setDistanceUnit(t){const n=r.exports.reporter.reportApiInvoke({name:`${this.name}.setDistanceUnit`,options:[t]});try{f.GetInstance().setDistanceUnit(t)}catch(t){return r.exports.logger.error(`${this.name}.setDistanceUnit invoke error: ${t}`),n.onError(t),e.UNKNOWN_ERROR}return n.onSuccess(),e.SUCCESS}setZones(t){const n=r.exports.reporter.reportApiInvoke({name:`${this.name}.setZones`,options:[JSON.stringify(t)]});try{const e=f.GetInstance().setZones(t);b.forEach((t=>{r.exports.logger.info(`setZones called, compute low level spatial params of user(${t.ID}).`);const n=e.get(t.ID);n&&t.updateLowLevelSpatialParams(n)}))}catch(t){return r.exports.logger.debug(`${this.name}.setZones invoke error: ${t.message}`),n.onError(t),e.UNKNOWN_ERROR}return n.onSuccess(),e.SUCCESS}static checkCompatibility(){return function(){try{return!!globalThis.WebAssembly&&!!globalThis.WebAssembly.compile}catch(t){return!1}}()?!!function(){try{return!!globalThis.MediaStreamTrackProcessor&&!!globalThis.MediaStreamTrackGenerator}catch(t){return!1}}()||(r.exports.logger.error("[spatial-audio-extension] can't work as experimental MediaStreamTrack API not supported"),!1):(r.exports.logger.error("[spatial-audio-extension] can't work as WebAssembly not supported"),!1)}}export{e as SpatialAudioErrorCode,w as SpatialAudioExtension,m as SpatialAudioProcessor};
